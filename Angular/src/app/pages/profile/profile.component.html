<div fxLayout="row wrap">
  <div fxFlex="100" fxFlex.sm="35" fxFlex.md="30" fxFlex.lg="25" class="flex-p" >
    <mat-card class="profilepic">
      <img *ngIf="UserEdit.Farm_User_Image" [src]="UserEdit.Farm_User_Image" class="transition-2" >
      <img *ngIf="!UserEdit.Farm_User_Image" src="assets/img/users/default-user.jpg" class="transition-2" ><br>
    <input 
        formControlName="Staff_Photo"
        id="file" 
        type="file" 
        class="form-control"
        (change)="onSelectedFile($event)">
    </mat-card>
  </div>
  
 

<mat-card class="p-0" fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1" >  
  <div class="bg-primary text-center py-1">       
      <h2>Edit Profile:</h2> 
  </div> 
  
  <form [formGroup]="personalForm" (ngSubmit)="onSubmit()"  fxLayout="row wrap" class="user-form p-1" >


      <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1" fxLayoutGap>
          <mat-form-field appearance="outline">
              <mat-label>Name</mat-label>
              <input matInput autocomplete="off" placeholder="First Name" formControlName="firstname" type="text" [(ngModel)]="UserEdit.Farm_User_Name">
              <mat-error *ngIf="personalForm.controls.firstname.errors?.required">First Name is required</mat-error>
              <mat-error *ngIf="personalForm.controls.firstname.errors?.maxlength">Maximum length of characters is 30</mat-error>                   
          </mat-form-field> 
      </div>

      <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1"fxLayoutGap>
          <mat-form-field appearance="outline">
              <mat-label>Surname</mat-label>
              <input matInput autocomplete="off" placeholder="Last Name" formControlName="lastname" type="text" [(ngModel)]="UserEdit.Farm_User_Surname">
              <mat-error *ngIf="personalForm.controls.lastname.errors?.required">Last Name is required</mat-error>
              <mat-error *ngIf="personalForm.controls.lastname.errors?.maxlength">Maximum length of characters is 30</mat-error>                  
          </mat-form-field> 
      </div>

      
      <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1" fxLayoutGap>
              <mat-form-field appearance="outline">
                  <mat-label>ID Number</mat-label>
                  <input matInput autocomplete="off" placeholder="ID Number" formControlName="id" type="text" [(ngModel)]="UserEdit.Farm_User_ID">
                  <mat-error *ngIf="personalForm.controls.id.errors?.required">ID Number is required</mat-error> 
                  <mat-error *ngIf="personalForm.controls.id.hasError('minlength')">ID Number invalid</mat-error>
                            <mat-error *ngIf="personalForm.controls.id.hasError('maxlength')">ID Number invalid</mat-error>                 
              </mat-form-field> 
          </div>

      <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1" fxLayoutGap>
              <mat-form-field appearance="outline">
                  <mat-label>Date of Birth</mat-label>
                  <input matInput [matDatepicker] ="picker"autocomplete="off" placeholder="MM/DD/YYYY" formControlName="dateofbirth" type="text" [(ngModel)]="UserEdit.Farm_User_DOB">
                  <mat-datepicker-toggle matSuffix [for]="picker">
                      
                  </mat-datepicker-toggle>  
                  <mat-datepicker #picker>
                          <mat-error *ngIf="personalForm.controls.dateofbirth.errors?.required">Date of Birth is required</mat-error>   
                  </mat-datepicker>                  
                                 
              </mat-form-field> 
          </div>

      <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1" fxLayoutGap>
          <mat-form-field appearance="outline">
              <mat-label>Contact email</mat-label>
              <input matInput autocomplete="off" placeholder="Email" formControlName="email" type="text" [(ngModel)]="UserEdit.User_Email"> 
              <mat-error *ngIf="personalForm.controls.email.errors?.required">Email is required</mat-error>   
              <mat-error *ngIf="personalForm.controls.email.hasError('invalidEmail')">Invalid email address</mat-error>              
          </mat-form-field> 
      </div>

      <div fxFlex="100" fxFlex.gt-sm="50" fxFlex.sm="50" class="p-1" fxLayoutGap >
          <mat-form-field appearance="outline">
              <mat-label>Phone Number</mat-label>
              <input matInput autocomplete="off" placeholder="Phone Number" formControlName="number" type="text" [(ngModel)]="UserEdit.Farm_User_Phone_Number"> 
              <mat-error *ngIf="personalForm.controls.number.errors?.required">Phone Number is required</mat-error> 
              <mat-error *ngIf="personalForm.controls.number.errors?.minlength">Phone Number is invalid</mat-error> 
              <mat-error *ngIf="personalForm.controls.number.errors?.maxlength">Phone Number is invalid</mat-error>                 
          </mat-form-field> 
      </div>

      

      <div fxFlex="100" class="p-1">
          <mat-form-field appearance="outline">
              <mat-label>Home Address</mat-label> 
              <textarea matInput placeholder="Enter address" formControlName="address" [(ngModel)]="UserEdit.Farm_User_Address">{{UserEdit.Farm_User_Address}}</textarea> 
              <mat-error *ngIf="personalForm.controls.address.errors?.required">Address is required</mat-error> 
              <mat-error *ngIf="personalForm.controls.address.errors?.maxlength">Maximum length of characters is 76</mat-error>  
          </mat-form-field>
      </div>

      <div fxFlex="100" class="p-1 text-center">
          <button mat-raised-button color="primary" class="uppercase mx-1" type="submit" >Update</button>             
      </div>

  </form> 
 
</mat-card>
</div>