(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{fhSy:function(r,t,e){"use strict";e.r(t),e.d(t,"routes",(function(){return J})),e.d(t,"RegisterModule",(function(){return O}));var n=e("ofXK"),o=e("tyNb"),c=e("3Pt+"),a=e("PCNd"),i=e("VAss"),s=e("/RaO");class m{constructor(){}}var l=e("fXoL"),u=e("Vaw3"),h=e("tk/3"),g=e("XhcP"),f=e("XiUz"),d=e("Wp6s"),b=e("bTqV"),p=e("NFeN"),N=e("kmnG"),v=e("qFsG");function w(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Full Name is required"),l.gc())}function I(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Full Name isn't long enough, minimum of 3 characters"),l.gc())}function S(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Surname is required"),l.gc())}function D(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Surname isn't long enough, minimum of 3 characters"),l.gc())}function A(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"ID Number is required"),l.gc())}function y(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"ID Number invalid"),l.gc())}function P(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Address is required"),l.gc())}function C(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Address invalid"),l.gc())}function x(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Phone Number is required"),l.gc())}function M(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Phone Number invalid"),l.gc())}function q(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Email is required"),l.gc())}function V(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Invalid email address"),l.gc())}function X(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Password is required"),l.gc())}function L(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Password isn't long enough, minimum of 6 characters"),l.gc())}function E(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Confirm Password is required"),l.gc())}function k(r,t){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Passwords do not match"),l.gc())}function F(r,t){1&r&&(l.hc(0,"button",22),l.Xc(1,"SIGN UP"),l.gc())}function z(r,t){if(1&r&&(l.hc(0,"span",26),l.Xc(1),l.uc(2,"number"),l.gc()),2&r){const r=l.tc().ngIf;l.Nb(1),l.Zc("",l.vc(2,1,r),"% ")}}function R(r,t){1&r&&(l.hc(0,"span",27),l.Xc(1,"Completed !"),l.gc())}function U(r,t){if(1&r&&(l.hc(0,"div"),l.cc(1,"progress",23),l.cc(2,"br"),l.Vc(3,z,3,3,"span",24),l.Vc(4,R,2,0,"span",25),l.gc()),2&r){const r=t.ngIf;l.Nb(1),l.Ac("value",r),l.Nb(2),l.Ac("ngIf",r<100),l.Nb(1),l.Ac("ngIf",100==r)}}let j=(()=>{class r{constructor(r,t,e,n,o){this.appSettings=r,this.fb=t,this.router=e,this.fireStorage=n,this.http=o,this.basePath="/images",this.downloadableURL="",this.submit1=!1,this.submit2=!1,this.SubmitData=new m,this.PostData=new m,this.settings=this.appSettings.settings,this.form=this.fb.group({name:[null,c.v.compose([c.v.required,c.v.minLength(3)])],surname:[null,c.v.compose([c.v.required,c.v.minLength(3)])],id:[null,c.v.compose([c.v.required,c.v.minLength(13)])],number:[null,c.v.compose([c.v.required,c.v.minLength(10)])],city:[null,c.v.compose([c.v.required,c.v.minLength(3)])],address:[null,c.v.compose([c.v.required,c.v.minLength(3)])],postalCode:[null,c.v.compose([c.v.required,c.v.minLength(3)])],email:[null,c.v.compose([c.v.required,i.a])],password:["",c.v.required],confirmPassword:["",c.v.required]},{validator:Object(i.b)("password","confirmPassword")})}onSubmit(){return r=this,void 0,e=function*(){this.file?(this.task=this.fireStorage.upload(`${this.basePath}/${this.SubmitData.IDNum}`,this.file),this.progressValue=this.task.percentageChanges(),(yield this.task).ref.getDownloadURL().then(r=>{this.downloadableURL=r,this.postData()})):(alert("No images selected"),this.downloadableURL="")},new((t=void 0)||(t=Promise))((function(n,o){function c(r){try{i(e.next(r))}catch(t){o(t)}}function a(r){try{i(e.throw(r))}catch(t){o(t)}}function i(r){var e;r.done?n(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(c,a)}i((e=e.apply(r,[])).next())}));var r,t,e}postData(){this.PostData=this.SubmitData,this.PostData.Image=this.downloadableURL,this.http.post("http://35.178.156.37/api/User/Register",this.PostData).subscribe(r=>{alert("Registration succesfull!")})}onSelectedFile(r){this.file=r.target.files[0],this.file.name=this.SubmitData.IDNum}checkID(){13==this.SubmitData.IDNum.length&&this.http.post("http://35.178.156.37/api/UserExists",this.SubmitData.IDNum).subscribe(r=>{this.submit1=!0},r=>{alert("Id number is already in use"),this.SubmitData.IDNum=null,this.submit1=!1})}CheckEmail(){this.http.post("http://35.178.156.37/api/UserExists",this.SubmitData.Email).subscribe(r=>{this.submit2=!0},r=>{alert("Email is already in use"),this.SubmitData.Email=null,console.log(r),this.submit2=!1})}ngAfterViewInit(){this.settings.loadingSpinner=!1}}return r.\u0275fac=function(t){return new(t||r)(l.bc(s.a),l.bc(c.c),l.bc(o.d),l.bc(u.a),l.bc(h.b))},r.\u0275cmp=l.Vb({type:r,selectors:[["app-register"]],decls:52,vars:28,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100"],["fxFlex","100","fxFlex.gt-sm","40",3,"formGroup","ngSubmit"],[1,"p-0","mat-elevation-z24","box","register"],["fxLayout","column","fxLayoutAlign","center center",1,"bg-primary","box-header"],["mat-fab","","color","accent",1,"mat-elevation-z12",3,"click"],["mat-button","","routerLink","/login"],["fxLayout","column","fxLayoutAlign","end center",1,"box-content"],["fxLayout","column","fxLayoutAlign","center center",1,"mat-elevation-z12","box-content-inner"],[1,"box-content-header"],[1,"w-100"],["matInput","","placeholder","Full Name","formControlName","name",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","Surname","formControlName","surname",3,"ngModel","ngModelChange"],["matInput","","placeholder","ID Number","formControlName","id",3,"ngModel","ngModelChange","change"],["matInput","","placeholder","Street Address","formControlName","address",3,"ngModel","ngModelChange"],["matInput","","placeholder","Phone Number","formControlName","number",3,"ngModel","ngModelChange"],["matInput","","placeholder","Email","formControlName","email",3,"ngModel","ngModelChange","blur"],["matInput","","placeholder","Password","formControlName","password","type","password","minlength","6",3,"ngModel","ngModelChange"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password"],["for","file"],["type","file","accept",".jpeg,.jpg,.png,.svg","name","file",3,"change"],["mat-raised-button","","color","primary","class","mat-elevation-z12 box-button","type","submit",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"mat-elevation-z12","box-button"],["type","warning","max","100",2,"height","7mm","width","50%",3,"value"],["style","color:rgb(255, 60, 0); font-size: 17px; font-weight: 410;",4,"ngIf"],["style","color:rgb(1, 153, 34);  font-size: 17px; font-weight: 410;",4,"ngIf"],[2,"color","rgb(255, 60, 0)","font-size","17px","font-weight","410"],[2,"color","rgb(1, 153, 34)","font-size","17px","font-weight","410"]],template:function(r,t){1&r&&(l.hc(0,"mat-sidenav-container"),l.hc(1,"div",0),l.hc(2,"form",1),l.pc("ngSubmit",(function(r){return t.onSubmit()})),l.hc(3,"mat-card",2),l.hc(4,"div",3),l.hc(5,"button",4),l.pc("click",(function(r){return t.onSubmit()})),l.hc(6,"mat-icon"),l.Xc(7,"person_add"),l.gc(),l.gc(),l.hc(8,"a",5),l.Xc(9,"Already have an account? Sign in!"),l.gc(),l.gc(),l.hc(10,"mat-card-content",6),l.hc(11,"mat-card",7),l.hc(12,"span",8),l.Xc(13,"Register Farmer"),l.gc(),l.hc(14,"mat-form-field",9),l.hc(15,"input",10),l.pc("ngModelChange",(function(r){return t.SubmitData.Name=r})),l.gc(),l.Vc(16,w,2,0,"mat-error",11),l.Vc(17,I,2,0,"mat-error",11),l.gc(),l.hc(18,"mat-form-field",9),l.hc(19,"input",12),l.pc("ngModelChange",(function(r){return t.SubmitData.Surname=r})),l.gc(),l.Vc(20,S,2,0,"mat-error",11),l.Vc(21,D,2,0,"mat-error",11),l.gc(),l.hc(22,"mat-form-field",9),l.hc(23,"input",13),l.pc("ngModelChange",(function(r){return t.SubmitData.IDNum=r}))("change",(function(r){return t.checkID()})),l.gc(),l.Vc(24,A,2,0,"mat-error",11),l.Vc(25,y,2,0,"mat-error",11),l.gc(),l.hc(26,"mat-form-field",9),l.hc(27,"input",14),l.pc("ngModelChange",(function(r){return t.SubmitData.Adress=r})),l.gc(),l.Vc(28,P,2,0,"mat-error",11),l.Vc(29,C,2,0,"mat-error",11),l.gc(),l.hc(30,"mat-form-field",9),l.hc(31,"input",15),l.pc("ngModelChange",(function(r){return t.SubmitData.Phone=r})),l.gc(),l.Vc(32,x,2,0,"mat-error",11),l.Vc(33,M,2,0,"mat-error",11),l.gc(),l.hc(34,"mat-form-field",9),l.hc(35,"input",16),l.pc("ngModelChange",(function(r){return t.SubmitData.Email=r}))("blur",(function(r){return t.CheckEmail()})),l.gc(),l.Vc(36,q,2,0,"mat-error",11),l.Vc(37,V,2,0,"mat-error",11),l.gc(),l.hc(38,"mat-form-field",9),l.hc(39,"input",17),l.pc("ngModelChange",(function(r){return t.SubmitData.Password=r})),l.gc(),l.Vc(40,X,2,0,"mat-error",11),l.Vc(41,L,2,0,"mat-error",11),l.gc(),l.hc(42,"mat-form-field",9),l.cc(43,"input",18),l.Vc(44,E,2,0,"mat-error",11),l.Vc(45,k,2,0,"mat-error",11),l.gc(),l.hc(46,"label",19),l.Xc(47,"Profile photo"),l.gc(),l.hc(48,"input",20),l.pc("change",(function(r){return t.onSelectedFile(r)})),l.gc(),l.gc(),l.Vc(49,F,2,0,"button",21),l.gc(),l.gc(),l.gc(),l.Vc(50,U,5,3,"div",11),l.uc(51,"async"),l.gc(),l.gc()),2&r&&(l.Nb(2),l.Ac("formGroup",t.form),l.Nb(13),l.Ac("ngModel",t.SubmitData.Name),l.Nb(1),l.Ac("ngIf",null==t.form.controls.name.errors?null:t.form.controls.name.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.name.hasError("minlength")),l.Nb(2),l.Ac("ngModel",t.SubmitData.Surname),l.Nb(1),l.Ac("ngIf",null==t.form.controls.surname.errors?null:t.form.controls.surname.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.surname.hasError("minlength")),l.Nb(2),l.Ac("ngModel",t.SubmitData.IDNum),l.Nb(1),l.Ac("ngIf",null==t.form.controls.id.errors?null:t.form.controls.id.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.id.hasError("minlength")),l.Nb(2),l.Ac("ngModel",t.SubmitData.Adress),l.Nb(1),l.Ac("ngIf",null==t.form.controls.address.errors?null:t.form.controls.address.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.address.hasError("minlength")),l.Nb(2),l.Ac("ngModel",t.SubmitData.Phone),l.Nb(1),l.Ac("ngIf",null==t.form.controls.number.errors?null:t.form.controls.number.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.number.hasError("minlength")),l.Nb(2),l.Ac("ngModel",t.SubmitData.Email),l.Nb(1),l.Ac("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.email.hasError("invalidEmail")),l.Nb(2),l.Ac("ngModel",t.SubmitData.Password),l.Nb(1),l.Ac("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.password.hasError("minlength")),l.Nb(3),l.Ac("ngIf",null==t.form.controls.confirmPassword.errors?null:t.form.controls.confirmPassword.errors.required),l.Nb(1),l.Ac("ngIf",t.form.controls.confirmPassword.hasError("mismatchedPasswords")),l.Nb(4),l.Ac("ngIf",t.submit1&&t.submit2),l.Nb(1),l.Ac("ngIf",l.vc(51,26,t.progressValue)))},directives:[g.b,f.c,f.b,c.x,c.o,f.a,c.g,d.a,b.b,p.a,b.a,o.g,d.d,N.b,v.b,c.b,c.n,c.f,n.n,c.j,N.a],pipes:[n.b,n.f],encapsulation:2}),r})();var G=e("vxfF");const J=[{path:"",component:j,pathMatch:"full"}];let O=(()=>{class r{}return r.\u0275mod=l.Zb({type:r}),r.\u0275inj=l.Yb({factory:function(t){return new(t||r)},imports:[[n.c,o.h.forChild(J),c.i,c.t,a.a,G.c]]}),r})()}}]);