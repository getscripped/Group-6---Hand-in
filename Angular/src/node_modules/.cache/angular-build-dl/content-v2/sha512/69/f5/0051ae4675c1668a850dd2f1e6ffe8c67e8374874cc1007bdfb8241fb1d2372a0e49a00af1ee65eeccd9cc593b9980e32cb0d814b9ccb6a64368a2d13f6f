(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{fhSy:function(r,t,e){"use strict";e.r(t),e.d(t,"routes",(function(){return G})),e.d(t,"RegisterModule",(function(){return J}));var n=e("ofXK"),o=e("tyNb"),c=e("3Pt+"),a=e("PCNd"),i=e("VAss"),s=e("/RaO");class m{constructor(){}}var u=e("fXoL"),l=e("Vaw3"),h=e("tk/3"),g=e("XhcP"),f=e("XiUz"),d=e("Wp6s"),p=e("bTqV"),b=e("NFeN"),w=e("kmnG"),N=e("qFsG");function I(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Full Name is required"),u.gc())}function y(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Full Name isn't long enough, minimum of 3 characters"),u.gc())}function S(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Surname is required"),u.gc())}function D(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Surname isn't long enough, minimum of 3 characters"),u.gc())}function A(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"ID Number is required"),u.gc())}function v(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"ID Number invalid"),u.gc())}function C(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Address is required"),u.gc())}function P(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Address invalid"),u.gc())}function M(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Phone Number is required"),u.gc())}function x(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Phone Number invalid"),u.gc())}function q(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Email is required"),u.gc())}function V(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Invalid email address"),u.gc())}function X(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Password is required"),u.gc())}function k(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Password isn't long enough, minimum of 6 characters"),u.gc())}function L(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Confirm Password is required"),u.gc())}function E(r,t){1&r&&(u.hc(0,"mat-error"),u.Xc(1,"Passwords do not match"),u.gc())}function _(r,t){1&r&&(u.hc(0,"button",21),u.Xc(1,"SIGN UP"),u.gc())}function F(r,t){if(1&r&&(u.hc(0,"span",25),u.Xc(1),u.uc(2,"number"),u.gc()),2&r){const r=u.tc().ngIf;u.Nb(1),u.Zc("",u.vc(2,1,r),"% ")}}function z(r,t){1&r&&(u.hc(0,"span",26),u.Xc(1,"Completed !"),u.gc())}function R(r,t){if(1&r&&(u.hc(0,"div"),u.cc(1,"progress",22),u.cc(2,"br"),u.Vc(3,F,3,3,"span",23),u.Vc(4,z,2,0,"span",24),u.gc()),2&r){const r=t.ngIf;u.Nb(1),u.Ac("value",r),u.Nb(2),u.Ac("ngIf",r<100),u.Nb(1),u.Ac("ngIf",100==r)}}let U=(()=>{class r{constructor(r,t,e,n,o){this.appSettings=r,this.fb=t,this.router=e,this.fireStorage=n,this.http=o,this.basePath="/images",this.downloadableURL="",this.submit1=!1,this.submit2=!1,this.SubmitData=new m,this.PostData=new m,this.settings=this.appSettings.settings,this.form=this.fb.group({name:[null,c.w.compose([c.w.required,c.w.minLength(3)])],surname:[null,c.w.compose([c.w.required,c.w.minLength(3)])],id:[null,c.w.compose([c.w.required,c.w.minLength(13)])],number:[null,c.w.compose([c.w.required,c.w.minLength(10)])],city:[null,c.w.compose([c.w.required,c.w.minLength(3)])],address:[null,c.w.compose([c.w.required,c.w.minLength(3)])],postalCode:[null,c.w.compose([c.w.required,c.w.minLength(3)])],email:[null,c.w.compose([c.w.required,i.a])],password:["",c.w.required],confirmPassword:["",c.w.required]},{validator:Object(i.b)("password","confirmPassword")})}onSubmit(){return r=this,void 0,e=function*(){this.file?(this.task=this.fireStorage.upload(`${this.basePath}/${this.SubmitData.IDNum}`,this.file),this.progressValue=this.task.percentageChanges(),(yield this.task).ref.getDownloadURL().then(r=>{this.downloadableURL=r,this.postData()})):(this.downloadableURL="",this.postData())},new((t=void 0)||(t=Promise))((function(n,o){function c(r){try{i(e.next(r))}catch(t){o(t)}}function a(r){try{i(e.throw(r))}catch(t){o(t)}}function i(r){var e;r.done?n(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(c,a)}i((e=e.apply(r,[])).next())}));var r,t,e}postData(){this.PostData=this.SubmitData,this.PostData.Image=this.downloadableURL,this.http.post("http://35.178.156.37/api/User/Register",this.PostData).subscribe(r=>{alert("Registration succesfull!")})}onSelectedFile(r){this.file=r.target.files[0],this.file.name=this.SubmitData.IDNum}checkID(){13==this.SubmitData.IDNum.length&&this.http.post("http://35.178.156.37/api/UserExists",this.SubmitData.IDNum).subscribe(r=>{this.submit1=!0},r=>{alert("Id number is already in use"),this.SubmitData.IDNum=null,this.submit1=!1})}CheckEmail(){this.http.post("http://35.178.156.37/api/UserExists",this.SubmitData.Email).subscribe(r=>{this.submit2=!0},r=>{alert("Email is already in use"),this.SubmitData.Email=null,console.log(r),this.submit2=!1})}ngAfterViewInit(){this.settings.loadingSpinner=!1}omit_special_char(r){var t;return(t=r.charCode)>64&&t<91||t>96&&t<123||8==t||32==t||t>=48&&t<=57}omit_special_char_Let(r){var t;return(t=r.charCode)>=48&&t<=57}}return r.\u0275fac=function(t){return new(t||r)(u.bc(s.a),u.bc(c.c),u.bc(o.d),u.bc(l.a),u.bc(h.b))},r.\u0275cmp=u.Vb({type:r,selectors:[["app-register"]],decls:52,vars:28,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100"],["fxFlex","100","fxFlex.gt-sm","40",2,"height","80% !important",3,"formGroup","ngSubmit"],[1,"p-0","mat-elevation-z24","box","register"],["fxLayout","column","fxLayoutAlign","center center",1,"bg-primary","box-header"],["mat-fab","","color","accent",1,"mat-elevation-z12",3,"click"],["mat-button","","routerLink","/login"],["fxLayout","column","fxLayoutAlign","end center",1,"box-content"],["fxLayout","column","fxLayoutAlign","center center",1,"mat-elevation-z12","box-content-inner"],[1,"w-100"],["matInput","","placeholder","Full Name","formControlName","name",3,"ngModel","keypress","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","Surname","formControlName","surname",3,"ngModel","keypress","ngModelChange"],["matInput","","placeholder","ID Number","formControlName","id","maxlength","13",3,"ngModel","keypress","ngModelChange","change"],["matInput","","placeholder","Street Address","formControlName","address",3,"ngModel","keypress","ngModelChange"],["matInput","","placeholder","Phone Number","formControlName","number",3,"ngModel","keypress","ngModelChange"],["matInput","","placeholder","Email","type","email","formControlName","email",3,"ngModel","ngModelChange","blur"],["matInput","","placeholder","Password","formControlName","password","type","password","minlength","6",3,"ngModel","ngModelChange"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password"],["for","file"],["type","file","accept",".jpeg,.jpg,.png,.svg","name","file",3,"change"],["mat-raised-button","","color","primary","class","mat-elevation-z12 box-button","type","submit",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"mat-elevation-z12","box-button"],["type","warning","max","100",2,"height","7mm","width","50%",3,"value"],["style","color:rgb(255, 60, 0); font-size: 17px; font-weight: 410;",4,"ngIf"],["style","color:rgb(1, 153, 34);  font-size: 17px; font-weight: 410;",4,"ngIf"],[2,"color","rgb(255, 60, 0)","font-size","17px","font-weight","410"],[2,"color","rgb(1, 153, 34)","font-size","17px","font-weight","410"]],template:function(r,t){1&r&&(u.hc(0,"mat-sidenav-container"),u.hc(1,"div",0),u.hc(2,"form",1),u.pc("ngSubmit",(function(r){return t.onSubmit()})),u.hc(3,"mat-card",2),u.hc(4,"div",3),u.hc(5,"button",4),u.pc("click",(function(r){return t.onSubmit()})),u.hc(6,"mat-icon"),u.Xc(7,"person_add"),u.gc(),u.gc(),u.hc(8,"a",5),u.Xc(9,"Already have an account? Sign in!"),u.gc(),u.gc(),u.hc(10,"mat-card-content",6),u.hc(11,"mat-card",7),u.hc(12,"h1"),u.Xc(13,"Register Farmer"),u.gc(),u.hc(14,"mat-form-field",8),u.hc(15,"input",9),u.pc("keypress",(function(r){return t.omit_special_char(r)}))("ngModelChange",(function(r){return t.SubmitData.Name=r})),u.gc(),u.Vc(16,I,2,0,"mat-error",10),u.Vc(17,y,2,0,"mat-error",10),u.gc(),u.hc(18,"mat-form-field",8),u.hc(19,"input",11),u.pc("keypress",(function(r){return t.omit_special_char(r)}))("ngModelChange",(function(r){return t.SubmitData.Surname=r})),u.gc(),u.Vc(20,S,2,0,"mat-error",10),u.Vc(21,D,2,0,"mat-error",10),u.gc(),u.hc(22,"mat-form-field",8),u.hc(23,"input",12),u.pc("keypress",(function(r){return t.omit_special_char_Let(r)}))("ngModelChange",(function(r){return t.SubmitData.IDNum=r}))("change",(function(r){return t.checkID()})),u.gc(),u.Vc(24,A,2,0,"mat-error",10),u.Vc(25,v,2,0,"mat-error",10),u.gc(),u.hc(26,"mat-form-field",8),u.hc(27,"input",13),u.pc("keypress",(function(r){return t.omit_special_char(r)}))("ngModelChange",(function(r){return t.SubmitData.Adress=r})),u.gc(),u.Vc(28,C,2,0,"mat-error",10),u.Vc(29,P,2,0,"mat-error",10),u.gc(),u.hc(30,"mat-form-field",8),u.hc(31,"input",14),u.pc("keypress",(function(r){return t.omit_special_char(r)}))("ngModelChange",(function(r){return t.SubmitData.Phone=r})),u.gc(),u.Vc(32,M,2,0,"mat-error",10),u.Vc(33,x,2,0,"mat-error",10),u.gc(),u.hc(34,"mat-form-field",8),u.hc(35,"input",15),u.pc("ngModelChange",(function(r){return t.SubmitData.Email=r}))("blur",(function(r){return t.CheckEmail()})),u.gc(),u.Vc(36,q,2,0,"mat-error",10),u.Vc(37,V,2,0,"mat-error",10),u.gc(),u.hc(38,"mat-form-field",8),u.hc(39,"input",16),u.pc("ngModelChange",(function(r){return t.SubmitData.Password=r})),u.gc(),u.Vc(40,X,2,0,"mat-error",10),u.Vc(41,k,2,0,"mat-error",10),u.gc(),u.hc(42,"mat-form-field",8),u.cc(43,"input",17),u.Vc(44,L,2,0,"mat-error",10),u.Vc(45,E,2,0,"mat-error",10),u.gc(),u.hc(46,"label",18),u.Xc(47,"Profile photo"),u.gc(),u.hc(48,"input",19),u.pc("change",(function(r){return t.onSelectedFile(r)})),u.gc(),u.gc(),u.Vc(49,_,2,0,"button",20),u.gc(),u.gc(),u.gc(),u.Vc(50,R,5,3,"div",10),u.uc(51,"async"),u.gc(),u.gc()),2&r&&(u.Nb(2),u.Ac("formGroup",t.form),u.Nb(13),u.Ac("ngModel",t.SubmitData.Name),u.Nb(1),u.Ac("ngIf",null==t.form.controls.name.errors?null:t.form.controls.name.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.name.hasError("minlength")),u.Nb(2),u.Ac("ngModel",t.SubmitData.Surname),u.Nb(1),u.Ac("ngIf",null==t.form.controls.surname.errors?null:t.form.controls.surname.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.surname.hasError("minlength")),u.Nb(2),u.Ac("ngModel",t.SubmitData.IDNum),u.Nb(1),u.Ac("ngIf",null==t.form.controls.id.errors?null:t.form.controls.id.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.id.hasError("minlength")),u.Nb(2),u.Ac("ngModel",t.SubmitData.Adress),u.Nb(1),u.Ac("ngIf",null==t.form.controls.address.errors?null:t.form.controls.address.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.address.hasError("minlength")),u.Nb(2),u.Ac("ngModel",t.SubmitData.Phone),u.Nb(1),u.Ac("ngIf",null==t.form.controls.number.errors?null:t.form.controls.number.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.number.hasError("minlength")),u.Nb(2),u.Ac("ngModel",t.SubmitData.Email),u.Nb(1),u.Ac("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.email.hasError("invalidEmail")),u.Nb(2),u.Ac("ngModel",t.SubmitData.Password),u.Nb(1),u.Ac("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.password.hasError("minlength")),u.Nb(3),u.Ac("ngIf",null==t.form.controls.confirmPassword.errors?null:t.form.controls.confirmPassword.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.confirmPassword.hasError("mismatchedPasswords")),u.Nb(4),u.Ac("ngIf",t.submit1&&t.submit2),u.Nb(1),u.Ac("ngIf",u.vc(51,26,t.progressValue)))},directives:[g.b,f.c,f.b,c.y,c.p,f.a,c.g,d.a,p.b,b.a,p.a,o.g,d.d,w.b,N.b,c.b,c.o,c.f,n.n,c.j,c.k,w.a],pipes:[n.b,n.f],encapsulation:2}),r})();var j=e("vxfF");const G=[{path:"",component:U,pathMatch:"full"}];let J=(()=>{class r{}return r.\u0275mod=u.Zb({type:r}),r.\u0275inj=u.Yb({factory:function(t){return new(t||r)},imports:[[n.c,o.h.forChild(G),c.i,c.u,a.a,j.c]]}),r})()}}]);