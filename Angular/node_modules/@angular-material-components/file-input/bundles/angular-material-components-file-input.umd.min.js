!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/coercion"),require("@angular/cdk/platform"),require("@angular/forms"),require("@angular/material/core"),require("rxjs"),require("@angular/common"),require("@angular/core"),require("@angular/material/button"),require("@angular/material/form-field"),require("@angular/material/icon"),require("@angular/material/input")):"function"==typeof define&&define.amd?define("@angular-material-components/file-input",["exports","@angular/cdk/coercion","@angular/cdk/platform","@angular/forms","@angular/material/core","rxjs","@angular/common","@angular/core","@angular/material/button","@angular/material/form-field","@angular/material/icon","@angular/material/input"],t):t((e["angular-material-components"]=e["angular-material-components"]||{},e["angular-material-components"]["file-input"]={}),e.ng.cdk.coercion,e.ng.cdk.platform,e.ng.forms,e.ng.material.core,e.rxjs,e.ng.common,e.ng.core,e.ng.material.button,e.ng.material["form-field"],e.ng.material.icon,e.ng.material.input)}(this,function(e,t,n,i,r,u,o,a,l,p,c,f){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var d=0,m=(g.decorators=[{type:a.Directive,args:[{selector:"[ngxMatFileInputIcon]"}]}],g);function g(){}var y,h=(function v(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(b,y=f._MatInputMixinBase),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=t.coerceBooleanProperty(e),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=t.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"required",{get:function(){return this._required},set:function(e){this._required=t.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"readonly",{get:function(){return this._readonly},set:function(e){this._readonly=t.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"accept",{get:function(){return this._accept},set:function(e){this._accept=e},enumerable:!0,configurable:!0}),b.prototype.ngOnChanges=function(){this.stateChanges.next()},b.prototype.ngOnDestroy=function(){this.stateChanges.complete()},b.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState()},b.prototype.writeValue=function(e){this._updateInputValue(e)},b.prototype.registerOnChange=function(e){this._onChange=e},b.prototype.registerOnTouched=function(e){this._onTouched=e},b.prototype.setDisabledState=function(e){this.disabled=e,this.stateChanges.next()},b.prototype.focus=function(e){this._inputValueRef.nativeElement.focus(e)},b.prototype._focusChanged=function(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())},b.prototype._markAsTouched=function(){this._onTouched(),this._cd.markForCheck(),this.stateChanges.next()},b.prototype._isBadInput=function(){var e=this._inputValueRef.nativeElement.validity;return e&&e.badInput},Object.defineProperty(b.prototype,"empty",{get:function(){return!this._inputValueRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!0,configurable:!0}),b.prototype.setDescribedByIds=function(e){this._ariaDescribedby=e.join(" ")},b.prototype.openFilePicker=function(e){this._inputFileRef.nativeElement.click(),e&&(e.preventDefault(),e.stopPropagation()),this._markAsTouched()},b.prototype.handleFiles=function(e){if(0<e.length){for(var t=new Array,n=0;n<e.length;n++)t.push(e.item(n));this._updateInputValue(t),this._resetInputFile(),this._onChange(this.multiple?t:t[0])}},b.prototype.onContainerClick=function(e){},b.prototype._resetInputFile=function(){this._inputFileRef.nativeElement.value=""},b.prototype._updateInputValue=function(e){var t=null;e&&(t=Array.isArray(e)?this._multiple?e.map(function(e){return e.name}).join(this.separator):e[0].name:null!=e.name?e.name:null),this._inputValueRef.nativeElement.value=t},b.decorators=[{type:a.Component,args:[{selector:"ngx-mat-file-input",template:'<input #inputValue autocomplete="off" class="mat-input-element mat-form-field-autofill-control" [attr.id]=\'id\'\r\n  [attr.placeholder]=\'placeholder\' [disabled]=\'disabled\' [required]=\'required\' [attr.readonly]=\'readonly || null\'\r\n  [attr.aria-describedby]=\'_ariaDescribedby || null\' [attr.aria-invalid]=\'errorState\'\r\n  [attr.aria-required]=\'required.toString()\'>\r\n<div class="mat-form-field-suffix">\r\n  <button matSuffix mat-icon-button [color]="color" class="button-browse"  (click)="openFilePicker($event)" type="button"\r\n   [disabled]="disabled">\r\n    <mat-icon *ngIf="!_customIcon" class="ngx-mat-file-input--default-icon">attach_file</mat-icon>\r\n    <ng-content select="[ngxMatFileInputIcon]"></ng-content>\r\n  </button>\r\n</div>\r\n<input type="file" #inputFile (change)="handleFiles($event.target.files)" class="input-file"\r\n  [multiple]="multiple" [accept]="accept">',encapsulation:a.ViewEncapsulation.None,host:{"class":"ngx-mat-file-input"},providers:[{provide:p.MatFormFieldControl,useExisting:a.forwardRef(function(){return b})}],exportAs:"ngx-mat-file-input",styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-file-input--default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-file-input--default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-file-input--default-icon{margin:auto}.ngx-mat-file-input{display:flex;line-height:18px;height:18px;align-items:center}.ngx-mat-file-input .input-file{display:block;visibility:hidden;width:0;height:0}"]}]}],b.ctorParameters=function(){return[{type:a.ElementRef},{type:n.Platform},{type:a.ChangeDetectorRef},{type:i.NgControl,decorators:[{type:a.Optional},{type:a.Self}]},{type:i.NgForm,decorators:[{type:a.Optional}]},{type:i.FormGroupDirective,decorators:[{type:a.Optional}]},{type:r.ErrorStateMatcher}]},b.propDecorators={_inputFileRef:[{type:a.ViewChild,args:["inputFile"]}],_inputValueRef:[{type:a.ViewChild,args:["inputValue"]}],_customIcon:[{type:a.ContentChild,args:[m]}],color:[{type:a.Input}],disabled:[{type:a.Input}],id:[{type:a.Input}],multiple:[{type:a.Input}],placeholder:[{type:a.Input}],separator:[{type:a.Input}],required:[{type:a.Input}],errorStateMatcher:[{type:a.Input}],value:[{type:a.Input}],readonly:[{type:a.Input}],accept:[{type:a.Input}]},b);function b(e,t,n,i,r,o,a){var l=y.call(this,a,r,o,i)||this;return l._elementRef=e,l._platform=t,l._cd=n,l.ngControl=i,l.color="primary",l.fileNames=null,l._uid="ngx-mat-fileinput-"+d++,l.stateChanges=new u.Subject,l.focused=!1,l.controlType="ngx-mat-file-input",l.autofilled=!1,l._onTouched=function(){},l._onChange=function(){},l._disabled=!1,l._multiple=!1,l.placeholder="Choose a file",l.separator=",",l._required=!1,l._readonly=!0,l.id=l.id,l.ngControl&&(l.ngControl.valueAccessor=l),l}var _=(x.decorators=[{type:a.NgModule,args:[{declarations:[h,m],imports:[o.CommonModule,l.MatButtonModule,c.MatIconModule,p.MatFormFieldModule,f.MatInputModule],exports:[h,m]}]}],x);function x(){}e.NgxMatFileInputIcon=m,e.NgxMatFileInputComponent=h,e.NgxMatFileInputModule=_,e.calculFileSize=function C(e){return e<1024?e+"bytes":1024<=e&&e<1048576?(e/1024).toFixed(1)+"KB":1048576<=e?(e/1048576).toFixed(1)+"MB":void 0},e.MaxSizeValidator=function I(i){return function(e){if(i=Number(i),isNaN(i))throw"MaxSizeValidator: max of size of file is invalid";if(!e.value)return null;var t=e.value;if(Array.isArray(e.value)||(t=[e.value]),!t.length)return null;var n=t.map(function(e){return e.size}).reduce(function(e,t){return e+t});return i<n?{maxSize:!0}:null}},e.AcceptValidator=function F(t){return function(e){if(!t)throw"AcceptValidator: allowable type of file can not be empty";return null==e.value?null:t.includes(e.value.type)?null:{accept:!0}}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-material-components-file-input.umd.min.js.map