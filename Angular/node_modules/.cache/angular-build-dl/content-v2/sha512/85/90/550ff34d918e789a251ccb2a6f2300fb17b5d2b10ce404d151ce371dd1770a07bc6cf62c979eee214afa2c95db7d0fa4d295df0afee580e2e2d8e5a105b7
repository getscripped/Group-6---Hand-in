(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BOF4:function(e,t,r){"use strict";var n=r("evrj");function o(e){this.message=e}(o.prototype=new Error).name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(a){throw new o("Invalid token specified: "+a.message)}},e.exports.InvalidTokenError=o},F4UR:function(e,t,r){"use strict";r.r(t),r.d(t,"routes",(function(){return k})),r.d(t,"LoginModule",(function(){return L}));var n=r("ofXK"),o=r("tyNb"),a=r("3Pt+"),c=r("PCNd"),i=r("VAss"),s=r("/RaO"),l=r("BOF4"),u=r("fXoL"),m=r("tk/3"),g=r("XhcP"),d=r("XiUz"),h=r("Wp6s"),f=r("bTqV"),p=r("NFeN"),b=r("kmnG"),w=r("qFsG");function v(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Email is required"),u.gc())}function x(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Invalid email address"),u.gc())}function y(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Password is required"),u.gc())}function I(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Password isn't long enough, minimum of 6 characters"),u.gc())}class S{}const k=[{path:"",component:(()=>{class e{constructor(e,t,r,n){this.appSettings=e,this.fb=t,this.router=r,this.httpserv=n,this.username="",this.password="",this.UserSubmit=new S,this.settings=this.appSettings.settings,this.form=this.fb.group({email:[null,a.w.compose([a.w.required,i.a])],password:[null,a.w.compose([a.w.required,a.w.minLength(6)])]})}onSubmit(e){this.form.valid&&this.router.navigate(["/"])}Login(){this.newPass=this.password,this.UserSubmit.User_Email=this.username,this.UserSubmit.User_Password=this.newPass,this.httpserv.post("http://35.178.156.37/api/User/Login",this.UserSubmit).subscribe(e=>{localStorage.setItem("jwtToken",e.Token);var t=l(e.Token);localStorage.setItem("currentUser",t.unique_name),localStorage.setItem("loggedIn","Yes"),alert(localStorage.getItem("jwtToken")),this.router.navigateByUrl("/farm")},e=>{alert("Login failed")})}ngAfterViewInit(){this.settings.loadingSpinner=!1}}return e.\u0275fac=function(t){return new(t||e)(u.bc(s.a),u.bc(a.c),u.bc(o.d),u.bc(m.b))},e.\u0275cmp=u.Vb({type:e,selectors:[["app-login"]],decls:24,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100"],["fxFlex","80","fxFlex.gt-sm","30","fxFlex.sm","60",3,"formGroup","ngSubmit"],[1,"p-0","mat-elevation-z24","box"],["fxLayout","column","fxLayoutAlign","center center",1,"bg-primary","box-header"],["mat-fab","","type","button","color","accent",1,"mat-elevation-z12",3,"click"],["mat-button","","routerLink","/register"],["fxLayout","column","fxLayoutAlign","end center",1,"box-content"],["fxLayout","column","fxLayoutAlign","center center",1,"mat-elevation-z12","box-content-inner"],[1,"box-content-header"],[1,"w-100"],["matInput","","placeholder","Email","formControlName","email",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",1,"mat-elevation-z12","box-button"]],template:function(e,t){1&e&&(u.hc(0,"mat-sidenav-container"),u.hc(1,"div",0),u.hc(2,"form",1),u.pc("ngSubmit",(function(e){return t.Login()})),u.hc(3,"mat-card",2),u.hc(4,"div",3),u.hc(5,"button",4),u.pc("click",(function(e){return t.onSubmit(t.form.value)})),u.hc(6,"mat-icon"),u.Xc(7,"exit_to_app"),u.gc(),u.gc(),u.hc(8,"a",5),u.Xc(9,"Don't have an account? Sign up now!"),u.gc(),u.gc(),u.hc(10,"mat-card-content",6),u.hc(11,"mat-card",7),u.hc(12,"span",8),u.Xc(13,"member login"),u.gc(),u.hc(14,"mat-form-field",9),u.hc(15,"input",10),u.pc("ngModelChange",(function(e){return t.username=e})),u.gc(),u.Vc(16,v,2,0,"mat-error",11),u.Vc(17,x,2,0,"mat-error",11),u.gc(),u.hc(18,"mat-form-field",9),u.hc(19,"input",12),u.pc("ngModelChange",(function(e){return t.password=e})),u.gc(),u.Vc(20,y,2,0,"mat-error",11),u.Vc(21,I,2,0,"mat-error",11),u.gc(),u.gc(),u.hc(22,"button",13),u.Xc(23,"SIGN IN"),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.gc()),2&e&&(u.Nb(2),u.Ac("formGroup",t.form),u.Nb(13),u.Ac("ngModel",t.username),u.Nb(1),u.Ac("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.email.hasError("invalidEmail")),u.Nb(2),u.Ac("ngModel",t.password),u.Nb(1),u.Ac("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.password.hasError("minlength")))},directives:[g.b,d.c,d.b,a.y,a.p,d.a,a.g,h.a,f.b,p.a,f.a,o.g,h.d,b.b,w.b,a.b,a.o,a.f,n.n,b.a],encapsulation:2}),e})(),pathMatch:"full"}];let L=(()=>{class e{}return e.\u0275mod=u.Zb({type:e}),e.\u0275inj=u.Yb({factory:function(t){return new(t||e)},imports:[[n.c,o.h.forChild(k),a.i,a.u,c.a]]}),e})()},evrj:function(e,t,r){var n=r("m4GZ");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(r){return n(t)}}},m4GZ:function(e,t){function r(e){this.message=e}(r.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,a=0,c=0,i="";o=t.charAt(c++);~o&&(n=a%4?64*n+o:o,a++%4)?i+=String.fromCharCode(255&n>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i}}}]);