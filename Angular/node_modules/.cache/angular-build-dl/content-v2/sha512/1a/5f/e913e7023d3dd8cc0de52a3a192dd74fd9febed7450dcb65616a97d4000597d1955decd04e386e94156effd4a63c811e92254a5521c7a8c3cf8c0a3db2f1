{"version":3,"sources":["webpack:///src/app/pages/chat/chat.component.html","webpack:///src/app/pages/chat/chat.component.scss","webpack:///src/app/pages/chat/chat.component.ts","webpack:///src/app/pages/chat/chat.model.ts","webpack:///src/app/pages/chat/chat.module.ts","webpack:///src/app/pages/chat/chat.service.ts"],"names":["ChatComponent","appSettings","chatService","userImage","sidenavOpen","settings","chats","getChats","window","innerWidth","obj","talks","length","getTalk","push","currentChat","forEach","talk","my","image","sidenav","close","$event","which","newMessage","trim","Date","chatContainer","document","querySelector","setTimeout","nodes","querySelectorAll","newChatTextHeight","scrollTop","scrollHeight","clientHeight","selector","template","providers","Chat","author","authorStatus","text","date","routes","path","component","pathMatch","ChatModule","imports","forChild","declarations","day","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","ChatService"],"mappings":"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","file":"pages-chat-chat-module-es5.js","sourcesContent":["export default \"<div fxLayout=\\\"row wrap\\\">\\r\\n    <div fxFlex=\\\"100\\\" class=\\\"flex-p\\\"> \\r\\n        <mat-card class=\\\"p-0 chat\\\">\\r\\n            <mat-sidenav-container>\\r\\n              <mat-sidenav #sidenav [opened]=\\\"sidenavOpen\\\" [mode]=\\\"sidenavOpen ? 'side' : 'over'\\\" class=\\\"chat-sidenav mat-elevation-z1\\\">\\r\\n                  <mat-toolbar color=\\\"primary\\\" class=\\\"p-0\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n                      <mat-list class=\\\"p-0\\\">\\r\\n                          <mat-list-item>\\r\\n                              <img matListAvatar [src]=\\\"userImage\\\">\\r\\n                          </mat-list-item>\\r\\n                      </mat-list>\\r\\n                      <button mat-icon-button [matMenuTriggerFor]=\\\"userMenu\\\" #userMenuTrigger=\\\"matMenuTrigger\\\">\\r\\n                          <mat-icon>more_vert</mat-icon>\\r\\n                      </button>                                     \\r\\n                  </mat-toolbar>\\r\\n                  <mat-menu #userMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" overlapTrigger=\\\"true\\\">\\r\\n                      <span (mouseleave)=\\\"userMenuTrigger.closeMenu()\\\">\\r\\n                          <button mat-menu-item>\\r\\n                              <mat-icon>account_circle</mat-icon>\\r\\n                              <span>Profile</span>\\r\\n                          </button>\\r\\n                          <button mat-menu-item>\\r\\n                              <mat-icon>settings</mat-icon>\\r\\n                              <span>Settings</span>\\r\\n                          </button>\\r\\n                          <a mat-menu-item routerLink=\\\"/\\\"> \\r\\n                              <mat-icon>power_settings_new</mat-icon>\\r\\n                              <span>Exit chat</span>\\r\\n                          </a>\\r\\n                      </span>\\r\\n                  </mat-menu> \\r\\n                  <mat-nav-list class=\\\"p-0 chat-sidenav-list\\\" perfectScrollbar>\\r\\n                      <mat-list-item *ngFor=\\\"let chat of chats\\\" (click)=\\\"getChat(chat)\\\">\\r\\n                          <img matListAvatar [src]=\\\"chat.image\\\">\\r\\n                          <h6 matLine> {{chat.author}} </h6>\\r\\n                          <p matLine fxLayout=\\\"row\\\" fxLayoutAlign=\\\"none center\\\" class=\\\"muted-text\\\">\\r\\n                              <span [ngSwitch]=\\\"chat.authorStatus\\\">\\r\\n                                  <mat-icon *ngSwitchCase=\\\"'Online'\\\" class=\\\"chat-status-icon\\\">check_circle</mat-icon>\\r\\n                                  <mat-icon *ngSwitchCase=\\\"'Offline'\\\" class=\\\"chat-status-icon\\\">highlight_off</mat-icon>\\r\\n                                  <mat-icon *ngSwitchCase=\\\"'Away'\\\" class=\\\"chat-status-icon\\\">schedule</mat-icon>\\r\\n                                  <mat-icon *ngSwitchCase=\\\"'Do not disturb'\\\" class=\\\"chat-status-icon\\\">not_interested</mat-icon>\\r\\n                              </span>\\r\\n                              <span class=\\\"author-status\\\">{{chat.authorStatus}}</span>\\r\\n                          </p>\\r\\n                      </mat-list-item>\\r\\n                  </mat-nav-list>\\r\\n              </mat-sidenav>\\r\\n            \\r\\n              <div>\\r\\n                  <mat-toolbar color=\\\"primary\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n                      <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"start center\\\">\\r\\n                          <button mat-icon-button (click)=\\\"sidenav.toggle()\\\">\\r\\n                              <mat-icon>list</mat-icon>\\r\\n                          </button>\\r\\n                          <mat-list *ngIf=\\\"currentChat\\\" class=\\\"p-0\\\">\\r\\n                              <mat-list-item>\\r\\n                                  <img matListAvatar [src]=\\\"currentChat.image\\\">\\r\\n                              </mat-list-item>\\r\\n                          </mat-list>\\r\\n                          <span *ngIf=\\\"currentChat\\\" class=\\\"author-name\\\">{{currentChat.author}}</span>\\r\\n                      </div>\\r\\n                      <button mat-icon-button [matMenuTriggerFor]=\\\"personMenu\\\" #personMenuTrigger=\\\"matMenuTrigger\\\">\\r\\n                          <mat-icon>more_vert</mat-icon>\\r\\n                      </button> \\r\\n                  </mat-toolbar>\\r\\n                  <mat-menu #personMenu=\\\"matMenu\\\" xPosition=\\\"before\\\" overlapTrigger=\\\"true\\\">\\r\\n                      <span (mouseleave)=\\\"personMenuTrigger.closeMenu()\\\">\\r\\n                          <button mat-menu-item>\\r\\n                              <mat-icon>account_circle</mat-icon>\\r\\n                              <span>Contact info</span>\\r\\n                          </button>\\r\\n                          <button mat-menu-item>\\r\\n                              <mat-icon>volume_mute</mat-icon>\\r\\n                              <span>Mute</span>\\r\\n                          </button>\\r\\n                          <button mat-menu-item> \\r\\n                              <mat-icon>delete_forever</mat-icon>\\r\\n                              <span>Clear chat</span>\\r\\n                          </button>\\r\\n                      </span>\\r\\n                  </mat-menu> \\r\\n                  <div class=\\\"chat-content\\\" perfectScrollbar>\\r\\n                      <mat-list *ngIf=\\\"talks\\\" class=\\\"p-0\\\" >\\r\\n                          <mat-list-item *ngFor=\\\"let talk of talks\\\" class=\\\"talk-item\\\">\\r\\n                              <img matListAvatar [src]=\\\"talk.image\\\">\\r\\n                              <p matLine class=\\\"message\\\">\\r\\n                                  <span [ngClass]=\\\"(talk.my) ? 'bg-primary' : 'bg-accent'\\\">{{talk.text}}</span>\\r\\n                              </p>                             \\r\\n                              <p matLine class=\\\"message-date\\\">\\r\\n                                  <small>{{talk.date | date:\\\"dd MMMM, yyyy 'at' HH:mm\\\"}}</small>\\r\\n                              </p> \\r\\n                          </mat-list-item>\\r\\n                      </mat-list>\\r\\n                      <div *ngIf=\\\"!talks\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" class=\\\"h-100 empty\\\">\\r\\n                          <mat-icon>chat</mat-icon>            \\r\\n                          <p>Select a interlocutor for talk</p>\\r\\n                      </div> \\r\\n                  </div>\\r\\n                  <mat-divider></mat-divider>\\r\\n                  <mat-card class=\\\"chat-actions\\\"> \\r\\n                      <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\r\\n                          <mat-form-field class=\\\"w-100\\\">\\r\\n                            <input matInput placeholder=\\\"Enter your text...\\\" (keyup)=\\\"sendMessage($event)\\\" [(ngModel)]=\\\"newMessage\\\">\\r\\n                          </mat-form-field>\\r\\n                          <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"scenter center\\\">\\r\\n                              <button mat-icon-button type=\\\"button\\\">\\r\\n                                  <mat-icon>attach_file</mat-icon>\\r\\n                              </button>\\r\\n                              <button mat-mini-fab color=\\\"primary\\\" type=\\\"button\\\" (click)=\\\"sendMessage($event)\\\">\\r\\n                                  <mat-icon>send</mat-icon>\\r\\n                              </button>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                  </mat-card>\\r\\n              </div>\\r\\n            \\r\\n            </mat-sidenav-container>\\r\\n        </mat-card>\\r\\n      </div>\\r\\n</div>\\r\\n\"","export default \".chat .chat-actions {\\n  padding: 12px;\\n}\\n.chat .author-name {\\n  font-size: 16px;\\n  font-weight: 400;\\n}\\n.chat .talk-item {\\n  padding: 6px 0;\\n  height: 100%;\\n}\\n.chat .message {\\n  white-space: unset;\\n  text-overflow: unset;\\n}\\n.chat .message span {\\n  padding: 6px 10px;\\n  border-radius: 4px;\\n  display: inline-block;\\n  font-size: 14px;\\n}\\n.chat .message-date {\\n  opacity: 0.8;\\n}\\n.chat .empty mat-icon {\\n  font-size: 220px;\\n  height: 220px;\\n  width: 220px;\\n  opacity: 0.4;\\n}\\n.chat .empty p {\\n  font-size: 18px;\\n  opacity: 0.8;\\n}\\n.chat-status-icon {\\n  font-size: 14px;\\n  height: 14px;\\n  width: 14px;\\n  line-height: 22px;\\n  margin-right: 6px;\\n}\\n.author-status {\\n  font-size: 13px;\\n}\\n.chat-sidenav {\\n  border-right: 1px solid transparent;\\n  overflow: hidden;\\n  width: 200px;\\n}\\n.chat-content {\\n  padding: 12px;\\n  height: calc(100vh - (56px + 8px*2 + 238px));\\n}\\n.chat-sidenav-list {\\n  height: calc(100vh - (56px + 8px*2 + 134px));\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdC9EOlxcMzcwXFxQcm9qZWN0IGNvZGVcXGdyYWR1cy9zcmNcXGFwcFxccGFnZXNcXGNoYXRcXGNoYXQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NoYXQvY2hhdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHSTtFQUNJLGFBQUE7QUNGUjtBRElJO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDRlI7QURJSTtFQUNJLGNBQUE7RUFDQSxZQUFBO0FDRlI7QURJSTtFQUNJLGtCQUFBO0VBQ0Esb0JBQUE7QUNGUjtBREdRO0VBQ0ksaUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtBQ0RaO0FESUk7RUFDSSxZQUFBO0FDRlI7QURLUTtFQUNJLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FDSFo7QURLUTtFQUNJLGVBQUE7RUFDQSxZQUFBO0FDSFo7QURPQTtFQUNJLGVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUNKSjtBRE1BO0VBQ0ksZUFBQTtBQ0hKO0FES0E7RUFDSSxtQ0FBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQ0ZKO0FESUE7RUFDSSxhQUFBO0VBQ0EsNENBQUE7QUNESjtBREdBO0VBQ0ksNENBQUE7QUNBSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NoYXQvY2hhdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgXCIuLi8uLi90aGVtZS9zdHlsZXMvdmFyaWFibGVzXCI7XHJcblxyXG4uY2hhdHtcclxuICAgIC5jaGF0LWFjdGlvbnN7XHJcbiAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgIH1cclxuICAgIC5hdXRob3ItbmFtZXtcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIH1cclxuICAgIC50YWxrLWl0ZW17XHJcbiAgICAgICAgcGFkZGluZzogNnB4IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gICAgLm1lc3NhZ2V7XHJcbiAgICAgICAgd2hpdGUtc3BhY2U6IHVuc2V0O1xyXG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IHVuc2V0OyAgICAgICBcclxuICAgICAgICBzcGFue1xyXG4gICAgICAgICAgICBwYWRkaW5nOiA2cHggMTBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAubWVzc2FnZS1kYXRle1xyXG4gICAgICAgIG9wYWNpdHk6IDAuODtcclxuICAgIH1cclxuICAgIC5lbXB0eXtcclxuICAgICAgICBtYXQtaWNvbntcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyMjBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMjBweDtcclxuICAgICAgICAgICAgd2lkdGg6IDIyMHB4O1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgb3BhY2l0eTogMC44O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4uY2hhdC1zdGF0dXMtaWNvbntcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGhlaWdodDogMTRweDtcclxuICAgIHdpZHRoOiAxNHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDIycHg7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDZweDtcclxufVxyXG4uYXV0aG9yLXN0YXR1c3tcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxufVxyXG4uY2hhdC1zaWRlbmF2e1xyXG4gICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgd2lkdGg6IDIwMHB4OyAgIFxyXG59XHJcbi5jaGF0LWNvbnRlbnR7XHJcbiAgICBwYWRkaW5nOiAxMnB4O1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gKCN7JHRvb2xiYXItaGVpZ2h0fSArICN7JGlubmVyLXNpZGVuYXYtY29udGVudC1wYWRkaW5nfSoyICsgMjM4cHgpKTtcclxufVxyXG4uY2hhdC1zaWRlbmF2LWxpc3Qge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gKCN7JHRvb2xiYXItaGVpZ2h0fSArICN7JGlubmVyLXNpZGVuYXYtY29udGVudC1wYWRkaW5nfSoyICsgMTM0cHgpKTtcclxufVxyXG4iLCIuY2hhdCAuY2hhdC1hY3Rpb25zIHtcbiAgcGFkZGluZzogMTJweDtcbn1cbi5jaGF0IC5hdXRob3ItbmFtZSB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbn1cbi5jaGF0IC50YWxrLWl0ZW0ge1xuICBwYWRkaW5nOiA2cHggMDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLmNoYXQgLm1lc3NhZ2Uge1xuICB3aGl0ZS1zcGFjZTogdW5zZXQ7XG4gIHRleHQtb3ZlcmZsb3c6IHVuc2V0O1xufVxuLmNoYXQgLm1lc3NhZ2Ugc3BhbiB7XG4gIHBhZGRpbmc6IDZweCAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuLmNoYXQgLm1lc3NhZ2UtZGF0ZSB7XG4gIG9wYWNpdHk6IDAuODtcbn1cbi5jaGF0IC5lbXB0eSBtYXQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMjIwcHg7XG4gIGhlaWdodDogMjIwcHg7XG4gIHdpZHRoOiAyMjBweDtcbiAgb3BhY2l0eTogMC40O1xufVxuLmNoYXQgLmVtcHR5IHAge1xuICBmb250LXNpemU6IDE4cHg7XG4gIG9wYWNpdHk6IDAuODtcbn1cblxuLmNoYXQtc3RhdHVzLWljb24ge1xuICBmb250LXNpemU6IDE0cHg7XG4gIGhlaWdodDogMTRweDtcbiAgd2lkdGg6IDE0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICBtYXJnaW4tcmlnaHQ6IDZweDtcbn1cblxuLmF1dGhvci1zdGF0dXMge1xuICBmb250LXNpemU6IDEzcHg7XG59XG5cbi5jaGF0LXNpZGVuYXYge1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2lkdGg6IDIwMHB4O1xufVxuXG4uY2hhdC1jb250ZW50IHtcbiAgcGFkZGluZzogMTJweDtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gKDU2cHggKyA4cHgqMiArIDIzOHB4KSk7XG59XG5cbi5jaGF0LXNpZGVuYXYtbGlzdCB7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtICg1NnB4ICsgOHB4KjIgKyAxMzRweCkpO1xufSJdfQ== */\"","import { Component, OnInit, HostListener, ViewChild } from '@angular/core';\r\nimport { AppSettings } from '../../app.settings';\r\nimport { Settings } from '../../app.settings.model';\r\nimport { Chat } from './chat.model';\r\nimport { ChatService } from './chat.service';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.scss'],\r\n  providers: [ ChatService ]\r\n})\r\nexport class ChatComponent implements OnInit {\r\n  @ViewChild('sidenav') sidenav: any;\r\n  public settings: Settings;\r\n  public userImage = 'assets/img/users/user.jpg';\r\n  public chats: Array<Chat>;\r\n  public talks: Array<Chat>;\r\n  public sidenavOpen:boolean = true;\r\n  public currentChat:Chat;\r\n  public newMessage:string;\r\n\r\n  constructor(public appSettings:AppSettings, private chatService:ChatService) { \r\n    this.settings = this.appSettings.settings; \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.chats = this.chatService.getChats(); \r\n    if(window.innerWidth <= 768){\r\n      this.sidenavOpen = false;\r\n    }    \r\n  } \r\n\r\n  @HostListener('window:resize')\r\n  public onWindowResize():void {\r\n    (window.innerWidth <= 768) ? this.sidenavOpen = false : this.sidenavOpen = true;\r\n  }\r\n\r\n  public getChat(obj){\r\n    if(this.talks){\r\n       this.talks.length = 2;\r\n    }   \r\n    this.talks = this.chatService.getTalk();\r\n    this.talks.push(obj);\r\n    this.currentChat = obj;      \r\n    this.talks.forEach(talk => {\r\n      if(!talk.my){\r\n        talk.image = obj.image;\r\n      }\r\n    });\r\n    if(window.innerWidth <= 768){\r\n      this.sidenav.close();\r\n    }     \r\n  }\r\n\r\n  public sendMessage($event) {       \r\n    if (($event.which === 1 || $event.which === 13) && this.newMessage.trim() != '') {\r\n      if(this.talks){ \r\n        this.talks.push(\r\n            new Chat(\r\n              'assets/img/users/user.jpg', \r\n              'Emilio Verdines', \r\n              'online', \r\n              this.newMessage,\r\n              new Date(), \r\n              true)\r\n        )\r\n        this.newMessage = '';\r\n        let chatContainer = document.querySelector('.chat-content');\r\n        if(chatContainer){\r\n          setTimeout(() => {\r\n            var nodes = chatContainer.querySelectorAll('.mat-list-item');\r\n            let newChatTextHeight = nodes[nodes.length- 1];\r\n            chatContainer.scrollTop = chatContainer.scrollHeight + newChatTextHeight.clientHeight;\r\n          }); \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy(){\r\n    if(this.talks)\r\n      this.talks.length = 2;\r\n  }\r\n\r\n}","export class Chat {\r\n    constructor(public image: string,\r\n                public author: string,\r\n                public authorStatus: string,\r\n                public text: string,\r\n                public date: Date,\r\n                public my: boolean) { }\r\n} ","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { ChatComponent } from './chat.component';\r\n\r\nexport const routes = [\r\n  { path: '', component: ChatComponent, pathMatch: 'full' }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    FormsModule,\r\n    PerfectScrollbarModule,\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    ChatComponent\r\n  ]\r\n})\r\nexport class ChatModule { }","import { Injectable } from '@angular/core'\r\nimport { Chat } from './chat.model';\r\n\r\nlet date = new Date(),\r\n    day = date.getDate(),\r\n    month = date.getMonth(),\r\n    year = date.getFullYear(),\r\n    hour = date.getHours(),\r\n    minute = date.getMinutes();\r\n\r\n// let chats = [\r\n//     new Chat(\r\n//         'assets/img/profile/ashley.jpg',\r\n//         'Ashley Ahlberg', \r\n//         'Online',\r\n//         'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n//         new Date(year, month, day-2, hour, minute),\r\n//         false\r\n//     ),\r\n//     new Chat(\r\n//         'assets/img/profile/bruno.jpg',\r\n//         'Bruno Vespa',\r\n//         'Do not disturb',\r\n//         'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n//         new Date(year, month, day-2, hour, minute),\r\n//         false\r\n//     ),\r\n//     new Chat(\r\n//         'assets/img/profile/julia.jpg',\r\n//         'Julia Aniston',\r\n//         'Away',\r\n//         'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n//         new Date(year, month, day-2, hour, minute),\r\n//         false\r\n//     ),\r\n//     new Chat(\r\n//         'assets/img/profile/adam.jpg',\r\n//         'Adam Sandler',\r\n//         'Online',\r\n//         'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n//         new Date(year, month, day-2, hour, minute),\r\n//         false\r\n//     ),\r\n//     new Chat(\r\n//         'assets/img/profile/tereza.jpg',\r\n//         'Tereza Stiles',\r\n//         'Offline',\r\n//         'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n//         new Date(year, month, day-2, hour, minute),\r\n//         false\r\n//     ),  \r\n//     new Chat(\r\n//         'assets/img/profile/michael.jpg',\r\n//         'Michael Blair',\r\n//         'Online',\r\n//         'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n//         new Date(year, month, day-2, hour, minute),\r\n//         false\r\n//     )\r\n// ]\r\n\r\nlet chats = [\r\n    new Chat(\r\n        'assets/img/profile/ashley.jpg',\r\n        'Ashley Ahlberg', \r\n        'Online',\r\n        'Great, then I\\'ll definitely buy this theme. Thanks!',\r\n        new Date(year, month, day-2, hour, minute),\r\n        false\r\n    ),\r\n    new Chat(\r\n        'assets/img/profile/bruno.jpg',\r\n        'Bruno Vespa',\r\n        'Do not disturb',\r\n        'Great, then I\\'ll definitely buy this theme. Thanks!',\r\n        new Date(year, month, day-2, hour, minute),\r\n        false\r\n    ),\r\n    new Chat(\r\n        'assets/img/profile/julia.jpg',\r\n        'Julia Aniston',\r\n        'Away',\r\n        'Great, then I\\'ll definitely buy this theme. Thanks!',\r\n        new Date(year, month, day-2, hour, minute),\r\n        false\r\n    ),\r\n    new Chat(\r\n        'assets/img/profile/adam.jpg',\r\n        'Adam Sandler',\r\n        'Online',\r\n        'Great, then I\\'ll definitely buy this theme. Thanks!',\r\n        new Date(year, month, day-2, hour, minute),\r\n        false\r\n    ),\r\n    new Chat(\r\n        'assets/img/profile/tereza.jpg',\r\n        'Tereza Stiles',\r\n        'Offline',\r\n        'Great, then I\\'ll definitely buy this theme. Thanks!',\r\n        new Date(year, month, day-2, hour, minute),\r\n        false\r\n    ),  \r\n    new Chat(\r\n        'assets/img/profile/michael.jpg',\r\n        'Michael Blair',\r\n        'Online',\r\n        'Great, then I\\'ll definitely buy this theme. Thanks!',\r\n        new Date(year, month, day-2, hour, minute),\r\n        false\r\n    )\r\n]\r\n\r\nlet talks = [\r\n    new Chat(\r\n        'assets/img/profile/ashley.jpg',\r\n        'Ashley Ahlberg', \r\n        'Online',\r\n        'Hi, I\\'m looking for admin template with angular material 2 design.  What do you think about Gradus Admin Template?',\r\n        new Date(year, month, day-2, hour, minute+3),\r\n        false\r\n    ),\r\n    new Chat(\r\n        'assets/img/users/user.jpg',\r\n        'Emilio Verdines', \r\n        'Online',\r\n        'Hi, Gradus is a fully compatible with angular material 2, responsive, organized folder structure, clean & customizable code, easy to use and much more...',\r\n        new Date(year, month, day-2, hour, minute+2),\r\n        true\r\n    )\r\n]\r\n\r\n@Injectable()\r\nexport class ChatService {\r\n\r\n    public getChats():Array<Chat> {\r\n        return chats;\r\n    }\r\n\r\n    public getTalk():Array<Chat> {\r\n        return talks;\r\n    }\r\n\r\n}\r\n\r\n"]}