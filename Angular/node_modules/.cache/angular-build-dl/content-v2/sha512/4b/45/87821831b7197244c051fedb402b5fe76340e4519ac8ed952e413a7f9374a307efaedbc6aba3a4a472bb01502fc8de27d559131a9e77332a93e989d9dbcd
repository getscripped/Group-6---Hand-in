function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{BOF4:function(e,t,r){"use strict";var n=r("evrj");function o(e){this.message=e}(o.prototype=new Error).name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(a){throw new o("Invalid token specified: "+a.message)}},e.exports.InvalidTokenError=o},F4UR:function(e,t,r){"use strict";r.r(t),r.d(t,"routes",(function(){return L})),r.d(t,"LoginModule",(function(){return N}));var n=r("ofXK"),o=r("tyNb"),a=r("3Pt+"),c=r("PCNd"),i=r("VAss"),s=r("/RaO"),l=r("BOF4"),u=r("fXoL"),f=r("tk/3"),m=r("XhcP"),h=r("XiUz"),g=r("Wp6s"),d=r("bTqV"),p=r("NFeN"),b=r("kmnG"),w=r("qFsG");function v(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Email is required"),u.gc())}function y(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Invalid email address"),u.gc())}function k(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Password is required"),u.gc())}function x(e,t){1&e&&(u.hc(0,"mat-error"),u.Xc(1,"Password isn't long enough, minimum of 6 characters"),u.gc())}var C,I,S=function e(){_classCallCheck(this,e)},L=[{path:"",component:(C=function(){function e(t,r,n,o){_classCallCheck(this,e),this.appSettings=t,this.fb=r,this.router=n,this.httpserv=o,this.username="",this.password="",this.UserSubmit=new S,this.settings=this.appSettings.settings,this.form=this.fb.group({email:[null,a.w.compose([a.w.required,i.a])],password:[null,a.w.compose([a.w.required,a.w.minLength(6)])]})}return _createClass(e,[{key:"onSubmit",value:function(e){this.form.valid&&this.router.navigate(["/"])}},{key:"Login",value:function(){var e=this;this.newPass=this.password,this.UserSubmit.User_Email=this.username,this.UserSubmit.User_Password=this.newPass,this.httpserv.post("http://35.178.156.37/api/User/Login",this.UserSubmit).subscribe((function(t){localStorage.setItem("jwtToken",t.Token);var r=l(t.Token);localStorage.setItem("currentUser",r.unique_name),localStorage.setItem("loggedIn","Yes"),alert(localStorage.getItem("jwtToken")),e.router.navigateByUrl("/farm")}),(function(e){alert("Login failed")}))}},{key:"ngAfterViewInit",value:function(){this.settings.loadingSpinner=!1}}]),e}(),C.\u0275fac=function(e){return new(e||C)(u.bc(s.a),u.bc(a.c),u.bc(o.d),u.bc(f.b))},C.\u0275cmp=u.Vb({type:C,selectors:[["app-login"]],decls:24,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100"],["fxFlex","80","fxFlex.gt-sm","30","fxFlex.sm","60",3,"formGroup","ngSubmit"],[1,"p-0","mat-elevation-z24","box"],["fxLayout","column","fxLayoutAlign","center center",1,"bg-primary","box-header"],["mat-fab","","type","button","color","accent",1,"mat-elevation-z12",3,"click"],["mat-button","","routerLink","/register"],["fxLayout","column","fxLayoutAlign","end center",1,"box-content"],["fxLayout","column","fxLayoutAlign","center center",1,"mat-elevation-z12","box-content-inner"],[1,"box-content-header"],[1,"w-100"],["matInput","","placeholder","Email","formControlName","email",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",1,"mat-elevation-z12","box-button"]],template:function(e,t){1&e&&(u.hc(0,"mat-sidenav-container"),u.hc(1,"div",0),u.hc(2,"form",1),u.pc("ngSubmit",(function(e){return t.Login()})),u.hc(3,"mat-card",2),u.hc(4,"div",3),u.hc(5,"button",4),u.pc("click",(function(e){return t.onSubmit(t.form.value)})),u.hc(6,"mat-icon"),u.Xc(7,"exit_to_app"),u.gc(),u.gc(),u.hc(8,"a",5),u.Xc(9,"Don't have an account? Sign up now!"),u.gc(),u.gc(),u.hc(10,"mat-card-content",6),u.hc(11,"mat-card",7),u.hc(12,"span",8),u.Xc(13,"member login"),u.gc(),u.hc(14,"mat-form-field",9),u.hc(15,"input",10),u.pc("ngModelChange",(function(e){return t.username=e})),u.gc(),u.Vc(16,v,2,0,"mat-error",11),u.Vc(17,y,2,0,"mat-error",11),u.gc(),u.hc(18,"mat-form-field",9),u.hc(19,"input",12),u.pc("ngModelChange",(function(e){return t.password=e})),u.gc(),u.Vc(20,k,2,0,"mat-error",11),u.Vc(21,x,2,0,"mat-error",11),u.gc(),u.gc(),u.hc(22,"button",13),u.Xc(23,"SIGN IN"),u.gc(),u.gc(),u.gc(),u.gc(),u.gc(),u.gc()),2&e&&(u.Nb(2),u.Ac("formGroup",t.form),u.Nb(13),u.Ac("ngModel",t.username),u.Nb(1),u.Ac("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.email.hasError("invalidEmail")),u.Nb(2),u.Ac("ngModel",t.password),u.Nb(1),u.Ac("ngIf",null==t.form.controls.password.errors?null:t.form.controls.password.errors.required),u.Nb(1),u.Ac("ngIf",t.form.controls.password.hasError("minlength")))},directives:[m.b,h.c,h.b,a.y,a.p,h.a,a.g,g.a,d.b,p.a,d.a,o.g,g.d,b.b,w.b,a.b,a.o,a.f,n.n,b.a],encapsulation:2}),C),pathMatch:"full"}],N=((I=function e(){_classCallCheck(this,e)}).\u0275mod=u.Zb({type:I}),I.\u0275inj=u.Yb({factory:function(e){return new(e||I)},imports:[[n.c,o.h.forChild(L),a.i,a.u,c.a]]}),I)},evrj:function(e,t,r){var n=r("m4GZ");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(r){return n(t)}}},m4GZ:function(e,t){function r(e){this.message=e}(r.prototype=new Error).name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,a=0,c=0,i="";o=t.charAt(c++);~o&&(n=a%4?64*n+o:o,a++%4)?i+=String.fromCharCode(255&n>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i}}}]);