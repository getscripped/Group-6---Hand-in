(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{F4UR:function(t,e,r){"use strict";r.r(e),r.d(e,"routes",(function(){return S})),r.d(e,"LoginModule",(function(){return I}));var o=r("ofXK"),n=r("tyNb"),c=r("3Pt+"),a=r("PCNd"),s=r("VAss"),i=r("/RaO"),l=r("fXoL"),m=r("tk/3"),u=r("XhcP"),g=r("XiUz"),h=r("Wp6s"),d=r("bTqV"),f=r("NFeN"),p=r("kmnG"),b=r("qFsG");function w(t,e){1&t&&(l.hc(0,"mat-error"),l.Yc(1,"Email is required"),l.gc())}function v(t,e){1&t&&(l.hc(0,"mat-error"),l.Yc(1,"Invalid email address"),l.gc())}function x(t,e){1&t&&(l.hc(0,"mat-error"),l.Yc(1,"Password is required"),l.gc())}function y(t,e){1&t&&(l.hc(0,"mat-error"),l.Yc(1,"Password isn't long enough, minimum of 6 characters"),l.gc())}class L{}const S=[{path:"",component:(()=>{class t{constructor(t,e,r,o){this.appSettings=t,this.fb=e,this.router=r,this.httpserv=o,this.username="",this.password="",this.UserSubmit=new L,this.settings=this.appSettings.settings,this.form=this.fb.group({email:[null,c.v.compose([c.v.required,s.a])],password:[null,c.v.compose([c.v.required,c.v.minLength(6)])]})}onSubmit(t){this.form.valid&&this.router.navigate(["/"])}Login(){this.newPass=this.password,this.UserSubmit.User_Email=this.username,this.UserSubmit.User_Password=this.newPass,this.httpserv.post("http://35.178.156.37/api/User/Login",this.UserSubmit).subscribe(t=>{localStorage.setItem("jwtToken",t.Token),localStorage.setItem("loggedIn","Yes"),alert(localStorage.getItem("jwtToken"))},t=>{alert("Login failed")})}ngAfterViewInit(){this.settings.loadingSpinner=!1}}return t.\u0275fac=function(e){return new(e||t)(l.bc(i.a),l.bc(c.c),l.bc(n.d),l.bc(m.b))},t.\u0275cmp=l.Vb({type:t,selectors:[["app-login"]],decls:24,vars:7,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100"],["fxFlex","80","fxFlex.gt-sm","30","fxFlex.sm","60",3,"formGroup","ngSubmit"],[1,"p-0","mat-elevation-z24","box"],["fxLayout","column","fxLayoutAlign","center center",1,"bg-primary","box-header"],["mat-fab","","type","button","color","accent",1,"mat-elevation-z12",3,"click"],["mat-button","","routerLink","/register"],["fxLayout","column","fxLayoutAlign","end center",1,"box-content"],["fxLayout","column","fxLayoutAlign","center center",1,"mat-elevation-z12","box-content-inner"],[1,"box-content-header"],[1,"w-100"],["matInput","","placeholder","Email","formControlName","email",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit",1,"mat-elevation-z12","box-button"]],template:function(t,e){1&t&&(l.hc(0,"mat-sidenav-container"),l.hc(1,"div",0),l.hc(2,"form",1),l.pc("ngSubmit",(function(t){return e.Login()})),l.hc(3,"mat-card",2),l.hc(4,"div",3),l.hc(5,"button",4),l.pc("click",(function(t){return e.onSubmit(e.form.value)})),l.hc(6,"mat-icon"),l.Yc(7,"exit_to_app"),l.gc(),l.gc(),l.hc(8,"a",5),l.Yc(9,"Don't have an account? Sign up now!"),l.gc(),l.gc(),l.hc(10,"mat-card-content",6),l.hc(11,"mat-card",7),l.hc(12,"span",8),l.Yc(13,"member login"),l.gc(),l.hc(14,"mat-form-field",9),l.hc(15,"input",10),l.pc("ngModelChange",(function(t){return e.username=t})),l.gc(),l.Wc(16,w,2,0,"mat-error",11),l.Wc(17,v,2,0,"mat-error",11),l.gc(),l.hc(18,"mat-form-field",9),l.hc(19,"input",12),l.pc("ngModelChange",(function(t){return e.password=t})),l.gc(),l.Wc(20,x,2,0,"mat-error",11),l.Wc(21,y,2,0,"mat-error",11),l.gc(),l.gc(),l.hc(22,"button",13),l.Yc(23,"SIGN IN"),l.gc(),l.gc(),l.gc(),l.gc(),l.gc(),l.gc()),2&t&&(l.Nb(2),l.Ac("formGroup",e.form),l.Nb(13),l.Ac("ngModel",e.username),l.Nb(1),l.Ac("ngIf",null==e.form.controls.email.errors?null:e.form.controls.email.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.email.hasError("invalidEmail")),l.Nb(2),l.Ac("ngModel",e.password),l.Nb(1),l.Ac("ngIf",null==e.form.controls.password.errors?null:e.form.controls.password.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.password.hasError("minlength")))},directives:[u.b,g.c,g.b,c.x,c.o,g.a,c.g,h.a,d.b,f.a,d.a,n.g,h.d,p.b,b.b,c.b,c.n,c.f,o.n,p.a],encapsulation:2}),t})(),pathMatch:"full"}];let I=(()=>{class t{}return t.\u0275mod=l.Zb({type:t}),t.\u0275inj=l.Yb({factory:function(e){return new(e||t)},imports:[[o.c,n.h.forChild(S),c.h,c.t,a.a]]}),t})()}}]);