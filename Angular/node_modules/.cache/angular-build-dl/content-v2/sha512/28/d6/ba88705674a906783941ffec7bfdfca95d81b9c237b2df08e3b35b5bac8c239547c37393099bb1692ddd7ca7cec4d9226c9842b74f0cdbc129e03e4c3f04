function _defineProperties(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function _createClass(r,e,t){return e&&_defineProperties(r.prototype,e),t&&_defineProperties(r,t),r}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{fhSy:function(r,e,t){"use strict";t.r(e),t.d(e,"routes",(function(){return J})),t.d(e,"RegisterModule",(function(){return T}));var n=t("ofXK"),o=t("tyNb"),c=t("3Pt+"),a=t("PCNd"),i=t("VAss"),s=t("/RaO"),u=function r(){_classCallCheck(this,r)},l=t("fXoL"),m=t("Vaw3"),f=t("tk/3"),h=t("XhcP"),g=t("XiUz"),d=t("Wp6s"),p=t("bTqV"),b=t("NFeN"),w=t("kmnG"),N=t("qFsG");function y(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Full Name is required"),l.gc())}function v(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Full Name isn't long enough, minimum of 3 characters"),l.gc())}function I(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Surname is required"),l.gc())}function C(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Surname isn't long enough, minimum of 3 characters"),l.gc())}function S(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"ID Number is required"),l.gc())}function D(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"ID Number invalid"),l.gc())}function k(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Address is required"),l.gc())}function A(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Address invalid"),l.gc())}function P(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Phone Number is required"),l.gc())}function x(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Phone Number invalid"),l.gc())}function M(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Email is required"),l.gc())}function q(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Invalid email address"),l.gc())}function V(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Password is required"),l.gc())}function X(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Password isn't long enough, minimum of 6 characters"),l.gc())}function _(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Confirm Password is required"),l.gc())}function L(r,e){1&r&&(l.hc(0,"mat-error"),l.Xc(1,"Passwords do not match"),l.gc())}function E(r,e){1&r&&(l.hc(0,"button",21),l.Xc(1,"SIGN UP"),l.gc())}function R(r,e){if(1&r&&(l.hc(0,"span",25),l.Xc(1),l.uc(2,"number"),l.gc()),2&r){var t=l.tc().ngIf;l.Nb(1),l.Zc("",l.vc(2,1,t),"% ")}}function F(r,e){1&r&&(l.hc(0,"span",26),l.Xc(1,"Completed !"),l.gc())}function z(r,e){if(1&r&&(l.hc(0,"div"),l.cc(1,"progress",22),l.cc(2,"br"),l.Vc(3,R,3,3,"span",23),l.Vc(4,F,2,0,"span",24),l.gc()),2&r){var t=e.ngIf;l.Nb(1),l.Ac("value",t),l.Nb(2),l.Ac("ngIf",t<100),l.Nb(1),l.Ac("ngIf",100==t)}}var U,j,G=((U=function(){function r(e,t,n,o,a){_classCallCheck(this,r),this.appSettings=e,this.fb=t,this.router=n,this.fireStorage=o,this.http=a,this.basePath="/images",this.downloadableURL="",this.submit1=!1,this.submit2=!1,this.SubmitData=new u,this.PostData=new u,this.settings=this.appSettings.settings,this.form=this.fb.group({name:[null,c.w.compose([c.w.required,c.w.minLength(3)])],surname:[null,c.w.compose([c.w.required,c.w.minLength(3)])],id:[null,c.w.compose([c.w.required,c.w.minLength(13)])],number:[null,c.w.compose([c.w.required,c.w.minLength(10)])],city:[null,c.w.compose([c.w.required,c.w.minLength(3)])],address:[null,c.w.compose([c.w.required,c.w.minLength(3)])],postalCode:[null,c.w.compose([c.w.required,c.w.minLength(3)])],email:[null,c.w.compose([c.w.required,i.a])],password:["",c.w.required],confirmPassword:["",c.w.required]},{validator:Object(i.b)("password","confirmPassword")})}return _createClass(r,[{key:"onSubmit",value:function(){return r=this,t=regeneratorRuntime.mark((function r(){var e=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.file){r.next=8;break}return this.task=this.fireStorage.upload("".concat(this.basePath,"/").concat(this.SubmitData.IDNum),this.file),this.progressValue=this.task.percentageChanges(),r.next=5,this.task;case 5:r.sent.ref.getDownloadURL().then((function(r){e.downloadableURL=r,e.postData()})),r.next=9;break;case 8:alert("No images selected"),this.downloadableURL="";case 9:case"end":return r.stop()}}),r,this)})),new((e=void 0)||(e=Promise))((function(n,o){function c(r){try{i(t.next(r))}catch(e){o(e)}}function a(r){try{i(t.throw(r))}catch(e){o(e)}}function i(r){var t;r.done?n(r.value):(t=r.value,t instanceof e?t:new e((function(r){r(t)}))).then(c,a)}i((t=t.apply(r,[])).next())}));var r,e,t}},{key:"postData",value:function(){this.PostData=this.SubmitData,this.PostData.Image=this.downloadableURL,this.http.post("http://35.178.156.37/api/User/Register",this.PostData).subscribe((function(r){alert("Registration succesfull!")}))}},{key:"onSelectedFile",value:function(r){this.file=r.target.files[0],this.file.name=this.SubmitData.IDNum}},{key:"checkID",value:function(){var r=this;13==this.SubmitData.IDNum.length&&this.http.post("http://35.178.156.37/api/UserExists",this.SubmitData.IDNum).subscribe((function(e){r.submit1=!0}),(function(e){alert("Id number is already in use"),r.SubmitData.IDNum=null,r.submit1=!1}))}},{key:"CheckEmail",value:function(){var r=this;this.http.post("http://35.178.156.37/api/UserExists",this.SubmitData.Email).subscribe((function(e){r.submit2=!0}),(function(e){alert("Email is already in use"),r.SubmitData.Email=null,console.log(e),r.submit2=!1}))}},{key:"ngAfterViewInit",value:function(){this.settings.loadingSpinner=!1}},{key:"omit_special_char",value:function(r){var e;return(e=r.charCode)>64&&e<91||e>96&&e<123||8==e||32==e||e>=48&&e<=57}},{key:"omit_special_char_Let",value:function(r){var e;return(e=r.charCode)>=48&&e<=57}}]),r}()).\u0275fac=function(r){return new(r||U)(l.bc(s.a),l.bc(c.c),l.bc(o.d),l.bc(m.a),l.bc(f.b))},U.\u0275cmp=l.Vb({type:U,selectors:[["app-register"]],decls:52,vars:28,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"h-100"],["fxFlex","100","fxFlex.gt-sm","40",2,"height","80% !important",3,"formGroup","ngSubmit"],[1,"p-0","mat-elevation-z24","box","register"],["fxLayout","column","fxLayoutAlign","center center",1,"bg-primary","box-header"],["mat-fab","","color","accent",1,"mat-elevation-z12",3,"click"],["mat-button","","routerLink","/login"],["fxLayout","column","fxLayoutAlign","end center",1,"box-content"],["fxLayout","column","fxLayoutAlign","center center",1,"mat-elevation-z12","box-content-inner"],[1,"w-100"],["matInput","","placeholder","Full Name","formControlName","name",3,"ngModel","keypress","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","Surname","formControlName","surname",3,"ngModel","keypress","ngModelChange"],["matInput","","placeholder","ID Number","formControlName","id","maxlength","13",3,"ngModel","keypress","ngModelChange","change"],["matInput","","placeholder","Street Address","formControlName","address",3,"ngModel","keypress","ngModelChange"],["matInput","","placeholder","Phone Number","formControlName","number",3,"ngModel","keypress","ngModelChange"],["matInput","","placeholder","Email","type","email","formControlName","email",3,"ngModel","ngModelChange","blur"],["matInput","","placeholder","Password","formControlName","password","type","password","minlength","6",3,"ngModel","ngModelChange"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword","type","password"],["for","file"],["type","file","accept",".jpeg,.jpg,.png,.svg","name","file",3,"change"],["mat-raised-button","","color","primary","class","mat-elevation-z12 box-button","type","submit",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"mat-elevation-z12","box-button"],["type","warning","max","100",2,"height","7mm","width","50%",3,"value"],["style","color:rgb(255, 60, 0); font-size: 17px; font-weight: 410;",4,"ngIf"],["style","color:rgb(1, 153, 34);  font-size: 17px; font-weight: 410;",4,"ngIf"],[2,"color","rgb(255, 60, 0)","font-size","17px","font-weight","410"],[2,"color","rgb(1, 153, 34)","font-size","17px","font-weight","410"]],template:function(r,e){1&r&&(l.hc(0,"mat-sidenav-container"),l.hc(1,"div",0),l.hc(2,"form",1),l.pc("ngSubmit",(function(r){return e.onSubmit()})),l.hc(3,"mat-card",2),l.hc(4,"div",3),l.hc(5,"button",4),l.pc("click",(function(r){return e.onSubmit()})),l.hc(6,"mat-icon"),l.Xc(7,"person_add"),l.gc(),l.gc(),l.hc(8,"a",5),l.Xc(9,"Already have an account? Sign in!"),l.gc(),l.gc(),l.hc(10,"mat-card-content",6),l.hc(11,"mat-card",7),l.hc(12,"h1"),l.Xc(13,"Register Farmer"),l.gc(),l.hc(14,"mat-form-field",8),l.hc(15,"input",9),l.pc("keypress",(function(r){return e.omit_special_char(r)}))("ngModelChange",(function(r){return e.SubmitData.Name=r})),l.gc(),l.Vc(16,y,2,0,"mat-error",10),l.Vc(17,v,2,0,"mat-error",10),l.gc(),l.hc(18,"mat-form-field",8),l.hc(19,"input",11),l.pc("keypress",(function(r){return e.omit_special_char(r)}))("ngModelChange",(function(r){return e.SubmitData.Surname=r})),l.gc(),l.Vc(20,I,2,0,"mat-error",10),l.Vc(21,C,2,0,"mat-error",10),l.gc(),l.hc(22,"mat-form-field",8),l.hc(23,"input",12),l.pc("keypress",(function(r){return e.omit_special_char_Let(r)}))("ngModelChange",(function(r){return e.SubmitData.IDNum=r}))("change",(function(r){return e.checkID()})),l.gc(),l.Vc(24,S,2,0,"mat-error",10),l.Vc(25,D,2,0,"mat-error",10),l.gc(),l.hc(26,"mat-form-field",8),l.hc(27,"input",13),l.pc("keypress",(function(r){return e.omit_special_char(r)}))("ngModelChange",(function(r){return e.SubmitData.Adress=r})),l.gc(),l.Vc(28,k,2,0,"mat-error",10),l.Vc(29,A,2,0,"mat-error",10),l.gc(),l.hc(30,"mat-form-field",8),l.hc(31,"input",14),l.pc("keypress",(function(r){return e.omit_special_char(r)}))("ngModelChange",(function(r){return e.SubmitData.Phone=r})),l.gc(),l.Vc(32,P,2,0,"mat-error",10),l.Vc(33,x,2,0,"mat-error",10),l.gc(),l.hc(34,"mat-form-field",8),l.hc(35,"input",15),l.pc("ngModelChange",(function(r){return e.SubmitData.Email=r}))("blur",(function(r){return e.CheckEmail()})),l.gc(),l.Vc(36,M,2,0,"mat-error",10),l.Vc(37,q,2,0,"mat-error",10),l.gc(),l.hc(38,"mat-form-field",8),l.hc(39,"input",16),l.pc("ngModelChange",(function(r){return e.SubmitData.Password=r})),l.gc(),l.Vc(40,V,2,0,"mat-error",10),l.Vc(41,X,2,0,"mat-error",10),l.gc(),l.hc(42,"mat-form-field",8),l.cc(43,"input",17),l.Vc(44,_,2,0,"mat-error",10),l.Vc(45,L,2,0,"mat-error",10),l.gc(),l.hc(46,"label",18),l.Xc(47,"Profile photo"),l.gc(),l.hc(48,"input",19),l.pc("change",(function(r){return e.onSelectedFile(r)})),l.gc(),l.gc(),l.Vc(49,E,2,0,"button",20),l.gc(),l.gc(),l.gc(),l.Vc(50,z,5,3,"div",10),l.uc(51,"async"),l.gc(),l.gc()),2&r&&(l.Nb(2),l.Ac("formGroup",e.form),l.Nb(13),l.Ac("ngModel",e.SubmitData.Name),l.Nb(1),l.Ac("ngIf",null==e.form.controls.name.errors?null:e.form.controls.name.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.name.hasError("minlength")),l.Nb(2),l.Ac("ngModel",e.SubmitData.Surname),l.Nb(1),l.Ac("ngIf",null==e.form.controls.surname.errors?null:e.form.controls.surname.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.surname.hasError("minlength")),l.Nb(2),l.Ac("ngModel",e.SubmitData.IDNum),l.Nb(1),l.Ac("ngIf",null==e.form.controls.id.errors?null:e.form.controls.id.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.id.hasError("minlength")),l.Nb(2),l.Ac("ngModel",e.SubmitData.Adress),l.Nb(1),l.Ac("ngIf",null==e.form.controls.address.errors?null:e.form.controls.address.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.address.hasError("minlength")),l.Nb(2),l.Ac("ngModel",e.SubmitData.Phone),l.Nb(1),l.Ac("ngIf",null==e.form.controls.number.errors?null:e.form.controls.number.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.number.hasError("minlength")),l.Nb(2),l.Ac("ngModel",e.SubmitData.Email),l.Nb(1),l.Ac("ngIf",null==e.form.controls.email.errors?null:e.form.controls.email.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.email.hasError("invalidEmail")),l.Nb(2),l.Ac("ngModel",e.SubmitData.Password),l.Nb(1),l.Ac("ngIf",null==e.form.controls.password.errors?null:e.form.controls.password.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.password.hasError("minlength")),l.Nb(3),l.Ac("ngIf",null==e.form.controls.confirmPassword.errors?null:e.form.controls.confirmPassword.errors.required),l.Nb(1),l.Ac("ngIf",e.form.controls.confirmPassword.hasError("mismatchedPasswords")),l.Nb(4),l.Ac("ngIf",e.submit1&&e.submit2),l.Nb(1),l.Ac("ngIf",l.vc(51,26,e.progressValue)))},directives:[h.b,g.c,g.b,c.y,c.p,g.a,c.g,d.a,p.b,b.a,p.a,o.g,d.d,w.b,N.b,c.b,c.o,c.f,n.n,c.j,c.k,w.a],pipes:[n.b,n.f],encapsulation:2}),U),O=t("vxfF"),J=[{path:"",component:G,pathMatch:"full"}],T=((j=function r(){_classCallCheck(this,r)}).\u0275mod=l.Zb({type:j}),j.\u0275inj=l.Yb({factory:function(r){return new(r||j)},imports:[[n.c,o.h.forChild(J),c.i,c.u,a.a,O.c]]}),j)}}]);