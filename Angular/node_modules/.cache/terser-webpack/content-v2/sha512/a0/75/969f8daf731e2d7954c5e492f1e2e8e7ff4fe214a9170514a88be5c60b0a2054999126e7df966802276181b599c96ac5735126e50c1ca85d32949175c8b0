{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{fhSy:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"routes\",(function(){return routes})),__webpack_require__.d(__webpack_exports__,\"RegisterModule\",(function(){return register_module_RegisterModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_router=__webpack_require__(\"tyNb\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),shared_module=__webpack_require__(\"PCNd\"),app_validators=__webpack_require__(\"VAss\"),app_settings=__webpack_require__(\"/RaO\");class Register{constructor(){}}var core=__webpack_require__(\"fXoL\"),angular_fire_storage=__webpack_require__(\"Vaw3\"),fesm2015_http=__webpack_require__(\"tk/3\"),sidenav=__webpack_require__(\"XhcP\"),flex=__webpack_require__(\"XiUz\"),card=__webpack_require__(\"Wp6s\"),fesm2015_button=__webpack_require__(\"bTqV\"),icon=__webpack_require__(\"NFeN\"),form_field=__webpack_require__(\"kmnG\"),input=__webpack_require__(\"qFsG\");function RegisterComponent_img_14_Template(rf,ctx){if(1&rf&&core.cc(0,\"img\",23),2&rf){const ctx_r1695=core.tc();core.Ac(\"src\",ctx_r1695.imageSrc,core.Qc)}}function RegisterComponent_mat_error_21_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Full Name is required\"),core.gc())}function RegisterComponent_mat_error_22_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Full Name isn't long enough, minimum of 3 characters\"),core.gc())}function RegisterComponent_mat_error_25_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Surname is required\"),core.gc())}function RegisterComponent_mat_error_26_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Surname isn't long enough, minimum of 3 characters\"),core.gc())}function RegisterComponent_mat_error_29_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"ID Number is required\"),core.gc())}function RegisterComponent_mat_error_30_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"ID Number invalid\"),core.gc())}function RegisterComponent_mat_error_33_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Address is required\"),core.gc())}function RegisterComponent_mat_error_34_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Address invalid\"),core.gc())}function RegisterComponent_mat_error_37_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Phone Number is required\"),core.gc())}function RegisterComponent_mat_error_38_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Phone Number invalid\"),core.gc())}function RegisterComponent_mat_error_41_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Email is required\"),core.gc())}function RegisterComponent_mat_error_42_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Invalid email address\"),core.gc())}function RegisterComponent_mat_error_45_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Password is required\"),core.gc())}function RegisterComponent_mat_error_46_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Password isn't long enough, minimum of 6 characters\"),core.gc())}function RegisterComponent_mat_error_49_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Confirm Password is required\"),core.gc())}function RegisterComponent_mat_error_50_Template(rf,ctx){1&rf&&(core.hc(0,\"mat-error\"),core.Xc(1,\"Passwords do not match\"),core.gc())}function RegisterComponent_button_51_Template(rf,ctx){1&rf&&(core.hc(0,\"button\",24),core.Xc(1,\"SIGN UP\"),core.gc())}let register_component_RegisterComponent=(()=>{class RegisterComponent{constructor(appSettings,fb,router,fireStorage,http){this.appSettings=appSettings,this.fb=fb,this.router=router,this.fireStorage=fireStorage,this.http=http,this.basePath=\"/images\",this.downloadableURL=\"\",this.submit1=!1,this.submit2=!1,this.SubmitData=new Register,this.PostData=new Register,this.settings=this.appSettings.settings,this.form=this.fb.group({name:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(3)])],surname:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(3)])],id:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(13)])],number:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(10)])],city:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(3)])],address:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(3)])],postalCode:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,fesm2015_forms.w.minLength(3)])],email:[null,fesm2015_forms.w.compose([fesm2015_forms.w.required,app_validators.a])],password:[\"\",fesm2015_forms.w.required],confirmPassword:[\"\",fesm2015_forms.w.required]},{validator:Object(app_validators.b)(\"password\",\"confirmPassword\")})}onSubmit(){return thisArg=this,void 0,generator=function*(){this.file?(this.task=this.fireStorage.upload(`${this.basePath}/${this.SubmitData.IDNum}`,this.file),this.progressValue=this.task.percentageChanges(),(yield this.task).ref.getDownloadURL().then(url=>{this.downloadableURL=url,this.postData()})):(this.downloadableURL=\"\",this.postData())},new((P=void 0)||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,[])).next())}));var thisArg,P,generator}postData(){this.PostData=this.SubmitData,this.PostData.Image=this.downloadableURL,this.http.post(\"http://35.178.156.37/api/User/Register\",this.PostData).subscribe(success=>{alert(\"Registration succesfull!\")})}onSelectedFile(event){const reader=new FileReader;if(event.target.files&&event.target.files.length){const[file]=event.target.files;reader.readAsDataURL(file),reader.onload=()=>{this.imageSrc=reader.result,this.form.patchValue({fileSource:reader.result})}}this.file=event.target.files[0],this.file.name=this.SubmitData.IDNum}checkID(){13==this.SubmitData.IDNum.length?this.http.post(\"http://35.178.156.37/api/UserExists\",this.SubmitData.IDNum).subscribe(success=>{this.submit1=!0},error=>{alert(\"Id number is already in use\"),this.SubmitData.IDNum=null,this.submit1=!1}):this.submit1=!1}CheckEmail(){this.http.post(\"http://35.178.156.37/api/UserExists\",this.SubmitData.Email).subscribe(success=>{this.submit2=!0,0==this.SubmitData.Email.length&&(this.submit2=!1)},error=>{alert(\"Email is already in use\"),this.SubmitData.Email=null,console.log(error),this.submit2=!1})}ngAfterViewInit(){this.settings.loadingSpinner=!1}omit_special_char(event){var k;return(k=event.charCode)>64&&k<91||k>96&&k<123||8==k||32==k||k>=48&&k<=57}omit_special_char_Let(event){var k;return(k=event.charCode)>=48&&k<=57}}return RegisterComponent.ɵfac=function(t){return new(t||RegisterComponent)(core.bc(app_settings.a),core.bc(fesm2015_forms.c),core.bc(fesm2015_router.d),core.bc(angular_fire_storage.a),core.bc(fesm2015_http.b))},RegisterComponent.ɵcmp=core.Vb({type:RegisterComponent,selectors:[[\"app-register\"]],decls:52,vars:26,consts:[[\"fxLayout\",\"row\",\"fxLayoutAlign\",\"center center\",1,\"h-100\",2,\"overflow\",\"auto\"],[\"fxFlex\",\"100\",\"fxFlex.gt-sm\",\"40\",3,\"formGroup\",\"ngSubmit\"],[1,\"p-0\",\"mat-elevation-z24\",\"box\",\"register\"],[\"fxLayout\",\"column\",\"fxLayoutAlign\",\"center center\",1,\"bg-primary\",\"box-header\"],[\"mat-fab\",\"\",\"color\",\"accent\",1,\"mat-elevation-z12\",3,\"click\"],[\"mat-button\",\"\",\"routerLink\",\"/login\"],[\"fxLayout\",\"column\",\"fxLayoutAlign\",\"end center\",1,\"box-content\"],[\"fxLayout\",\"column\",\"fxLayoutAlign\",\"center center\",1,\"mat-elevation-z12\",\"box-content-inner\"],[\"style\",\"height: 100px; width:100px; position: relative;float: right;overflow: hidden;\",3,\"src\",4,\"ngIf\"],[1,\"form-group\"],[\"for\",\"file\",2,\"text-align\",\"center\",\"display\",\"block\"],[\"formControlName\",\"file\",\"id\",\"file\",\"type\",\"file\",1,\"form-control\",3,\"change\"],[1,\"w-100\"],[\"matInput\",\"\",\"placeholder\",\"Full Name\",\"formControlName\",\"name\",\"required\",\"\",3,\"ngModel\",\"keypress\",\"ngModelChange\"],[4,\"ngIf\"],[\"matInput\",\"\",\"placeholder\",\"Surname\",\"formControlName\",\"surname\",\"required\",\"\",3,\"ngModel\",\"keypress\",\"ngModelChange\"],[\"matInput\",\"\",\"placeholder\",\"ID Number\",\"formControlName\",\"id\",\"maxlength\",\"13\",\"required\",\"\",3,\"ngModel\",\"keypress\",\"ngModelChange\",\"change\"],[\"matInput\",\"\",\"placeholder\",\"Street Address\",\"formControlName\",\"address\",\"required\",\"\",3,\"ngModel\",\"keypress\",\"ngModelChange\"],[\"matInput\",\"\",\"placeholder\",\"Phone Number\",\"maxlength\",\"10\",\"formControlName\",\"number\",\"required\",\"\",3,\"ngModel\",\"keypress\",\"ngModelChange\"],[\"matInput\",\"\",\"placeholder\",\"Email\",\"type\",\"email\",\"formControlName\",\"email\",\"required\",\"\",3,\"ngModel\",\"ngModelChange\",\"blur\"],[\"matInput\",\"\",\"placeholder\",\"Password\",\"formControlName\",\"password\",\"type\",\"password\",\"minlength\",\"6\",\"required\",\"\",3,\"ngModel\",\"ngModelChange\"],[\"matInput\",\"\",\"placeholder\",\"Confirm Password\",\"formControlName\",\"confirmPassword\",\"type\",\"password\",\"required\",\"\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"class\",\"mat-elevation-z12 box-button\",\"type\",\"submit\",4,\"ngIf\"],[2,\"height\",\"100px\",\"width\",\"100px\",\"position\",\"relative\",\"float\",\"right\",\"overflow\",\"hidden\",3,\"src\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",1,\"mat-elevation-z12\",\"box-button\"]],template:function(rf,ctx){1&rf&&(core.hc(0,\"mat-sidenav-container\"),core.hc(1,\"div\",0),core.hc(2,\"form\",1),core.pc(\"ngSubmit\",(function($event){return ctx.onSubmit()})),core.hc(3,\"mat-card\",2),core.hc(4,\"div\",3),core.hc(5,\"button\",4),core.pc(\"click\",(function($event){return ctx.onSubmit()})),core.hc(6,\"mat-icon\"),core.Xc(7,\"person_add\"),core.gc(),core.gc(),core.hc(8,\"a\",5),core.Xc(9,\"Already have an account? Sign in!\"),core.gc(),core.gc(),core.hc(10,\"mat-card-content\",6),core.hc(11,\"mat-card\",7),core.hc(12,\"h1\"),core.Xc(13,\"Register Farmer\"),core.gc(),core.Vc(14,RegisterComponent_img_14_Template,1,1,\"img\",8),core.hc(15,\"div\",9),core.hc(16,\"label\",10),core.Xc(17,\"Profile Photo\"),core.gc(),core.hc(18,\"input\",11),core.pc(\"change\",(function($event){return ctx.onSelectedFile($event)})),core.gc(),core.gc(),core.hc(19,\"mat-form-field\",12),core.hc(20,\"input\",13),core.pc(\"keypress\",(function($event){return ctx.omit_special_char($event)}))(\"ngModelChange\",(function($event){return ctx.SubmitData.Name=$event})),core.gc(),core.Vc(21,RegisterComponent_mat_error_21_Template,2,0,\"mat-error\",14),core.Vc(22,RegisterComponent_mat_error_22_Template,2,0,\"mat-error\",14),core.gc(),core.hc(23,\"mat-form-field\",12),core.hc(24,\"input\",15),core.pc(\"keypress\",(function($event){return ctx.omit_special_char($event)}))(\"ngModelChange\",(function($event){return ctx.SubmitData.Surname=$event})),core.gc(),core.Vc(25,RegisterComponent_mat_error_25_Template,2,0,\"mat-error\",14),core.Vc(26,RegisterComponent_mat_error_26_Template,2,0,\"mat-error\",14),core.gc(),core.hc(27,\"mat-form-field\",12),core.hc(28,\"input\",16),core.pc(\"keypress\",(function($event){return ctx.omit_special_char_Let($event)}))(\"ngModelChange\",(function($event){return ctx.SubmitData.IDNum=$event}))(\"change\",(function($event){return ctx.checkID()})),core.gc(),core.Vc(29,RegisterComponent_mat_error_29_Template,2,0,\"mat-error\",14),core.Vc(30,RegisterComponent_mat_error_30_Template,2,0,\"mat-error\",14),core.gc(),core.hc(31,\"mat-form-field\",12),core.hc(32,\"input\",17),core.pc(\"keypress\",(function($event){return ctx.omit_special_char($event)}))(\"ngModelChange\",(function($event){return ctx.SubmitData.Adress=$event})),core.gc(),core.Vc(33,RegisterComponent_mat_error_33_Template,2,0,\"mat-error\",14),core.Vc(34,RegisterComponent_mat_error_34_Template,2,0,\"mat-error\",14),core.gc(),core.hc(35,\"mat-form-field\",12),core.hc(36,\"input\",18),core.pc(\"keypress\",(function($event){return ctx.omit_special_char($event)}))(\"ngModelChange\",(function($event){return ctx.SubmitData.Phone=$event})),core.gc(),core.Vc(37,RegisterComponent_mat_error_37_Template,2,0,\"mat-error\",14),core.Vc(38,RegisterComponent_mat_error_38_Template,2,0,\"mat-error\",14),core.gc(),core.hc(39,\"mat-form-field\",12),core.hc(40,\"input\",19),core.pc(\"ngModelChange\",(function($event){return ctx.SubmitData.Email=$event}))(\"blur\",(function($event){return ctx.CheckEmail()})),core.gc(),core.Vc(41,RegisterComponent_mat_error_41_Template,2,0,\"mat-error\",14),core.Vc(42,RegisterComponent_mat_error_42_Template,2,0,\"mat-error\",14),core.gc(),core.hc(43,\"mat-form-field\",12),core.hc(44,\"input\",20),core.pc(\"ngModelChange\",(function($event){return ctx.SubmitData.Password=$event})),core.gc(),core.Vc(45,RegisterComponent_mat_error_45_Template,2,0,\"mat-error\",14),core.Vc(46,RegisterComponent_mat_error_46_Template,2,0,\"mat-error\",14),core.gc(),core.hc(47,\"mat-form-field\",12),core.cc(48,\"input\",21),core.Vc(49,RegisterComponent_mat_error_49_Template,2,0,\"mat-error\",14),core.Vc(50,RegisterComponent_mat_error_50_Template,2,0,\"mat-error\",14),core.gc(),core.gc(),core.Vc(51,RegisterComponent_button_51_Template,2,0,\"button\",22),core.gc(),core.gc(),core.gc(),core.gc(),core.gc()),2&rf&&(core.Nb(2),core.Ac(\"formGroup\",ctx.form),core.Nb(12),core.Ac(\"ngIf\",ctx.imageSrc),core.Nb(6),core.Ac(\"ngModel\",ctx.SubmitData.Name),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.name.errors?null:ctx.form.controls.name.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.name.hasError(\"minlength\")),core.Nb(2),core.Ac(\"ngModel\",ctx.SubmitData.Surname),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.surname.errors?null:ctx.form.controls.surname.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.surname.hasError(\"minlength\")),core.Nb(2),core.Ac(\"ngModel\",ctx.SubmitData.IDNum),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.id.errors?null:ctx.form.controls.id.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.id.hasError(\"minlength\")),core.Nb(2),core.Ac(\"ngModel\",ctx.SubmitData.Adress),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.address.errors?null:ctx.form.controls.address.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.address.hasError(\"minlength\")),core.Nb(2),core.Ac(\"ngModel\",ctx.SubmitData.Phone),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.number.errors?null:ctx.form.controls.number.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.number.hasError(\"minlength\")),core.Nb(2),core.Ac(\"ngModel\",ctx.SubmitData.Email),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.email.errors?null:ctx.form.controls.email.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.email.hasError(\"invalidEmail\")),core.Nb(2),core.Ac(\"ngModel\",ctx.SubmitData.Password),core.Nb(1),core.Ac(\"ngIf\",null==ctx.form.controls.password.errors?null:ctx.form.controls.password.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.password.hasError(\"minlength\")),core.Nb(3),core.Ac(\"ngIf\",null==ctx.form.controls.confirmPassword.errors?null:ctx.form.controls.confirmPassword.errors.required),core.Nb(1),core.Ac(\"ngIf\",ctx.form.controls.confirmPassword.hasError(\"mismatchedPasswords\")),core.Nb(1),core.Ac(\"ngIf\",ctx.submit1&&ctx.submit2))},directives:[sidenav.b,flex.c,flex.b,fesm2015_forms.y,fesm2015_forms.p,flex.a,fesm2015_forms.g,card.a,fesm2015_button.b,icon.a,fesm2015_button.a,fesm2015_router.g,card.d,common.n,fesm2015_forms.b,fesm2015_forms.o,fesm2015_forms.f,form_field.b,input.b,fesm2015_forms.v,fesm2015_forms.j,fesm2015_forms.k,form_field.a],encapsulation:2}),RegisterComponent})();var scrolling=__webpack_require__(\"vxfF\");const routes=[{path:\"\",component:register_component_RegisterComponent,pathMatch:\"full\"}];let register_module_RegisterModule=(()=>{class RegisterModule{}return RegisterModule.ɵmod=core.Zb({type:RegisterModule}),RegisterModule.ɵinj=core.Yb({factory:function(t){return new(t||RegisterModule)},imports:[[common.c,fesm2015_router.h.forChild(routes),fesm2015_forms.i,fesm2015_forms.u,shared_module.a,scrolling.c]]}),RegisterModule})()}}]);","extractedComments":[]}