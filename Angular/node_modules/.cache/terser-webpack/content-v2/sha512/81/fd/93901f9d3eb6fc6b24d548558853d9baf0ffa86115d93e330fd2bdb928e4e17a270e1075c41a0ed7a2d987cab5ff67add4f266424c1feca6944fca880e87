{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{yqEH:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),shared_module=__webpack_require__(\"PCNd\"),debounceTime=__webpack_require__(\"Kj3r\"),menu_service=__webpack_require__(\"8fVf\"),menu_model=__webpack_require__(\"ySTs\"),core=__webpack_require__(\"fXoL\");let dynamic_menu_service_DynamicMenuService=(()=>{class DynamicMenuService{constructor(componentFactoryResolver,applicationRef,injector){this.componentFactoryResolver=componentFactoryResolver,this.applicationRef=applicationRef,this.injector=injector}addNewMenuItem(component,menuItems,menuItem){const newMenuItem=new menu_model.a(menuItems[menuItems.length-1].id+1,menuItem.title,menuItem.routerLink,menuItem.href,menuItem.icon,menuItem.target,menuItem.hasSubMenu,parseInt(menuItem.parentId));menuItems.push(newMenuItem);let item=menuItems.filter(item=>item.id==newMenuItem.parentId)[0];item&&(item.hasSubMenu=!0);const componentRef=this.componentFactoryResolver.resolveComponentFactory(component).create(this.injector);this.applicationRef.attachView(componentRef.hostView);let instance=componentRef.instance;instance.menuItems=menuItems,instance.menuParentId=0;const elem=componentRef.hostView.rootNodes[0],verticalMenu=document.getElementById(\"vertical-menu\");verticalMenu.replaceChild(elem,verticalMenu.children[0])}}return DynamicMenuService.ɵfac=function(t){return new(t||DynamicMenuService)(core.kc(core.l),core.kc(core.g),core.kc(core.w))},DynamicMenuService.ɵprov=core.Wb({token:DynamicMenuService,factory:DynamicMenuService.ɵfac}),DynamicMenuService})();var app_settings=__webpack_require__(\"/RaO\"),vertical_menu_component=__webpack_require__(\"XuPb\"),animations=__webpack_require__(\"R0Ic\");Object(animations.o)(\"blockTransition\",[Object(animations.n)(\":enter\",[Object(animations.i)(\".block\",Object(animations.m)({opacity:0}),{optional:!0}),Object(animations.i)(\".block\",Object(animations.k)(150,[Object(animations.m)({transform:\"translateY(100px)\"}),Object(animations.e)(\"1s cubic-bezier(.75,-0.48,.26,1.52)\",Object(animations.m)({transform:\"translateY(0px)\",opacity:1}))]),{optional:!0})]),Object(animations.n)(\":leave\",[Object(animations.i)(\".block\",Object(animations.k)(100,[Object(animations.m)({transform:\"translateY(0px)\",opacity:1}),Object(animations.e)(\"1s cubic-bezier(.75,-0.48,.26,1.52)\",Object(animations.m)({transform:\"translateY(100px)\",opacity:0}))]),{optional:!0})])]);const listTransition=Object(animations.o)(\"listTransition\",[Object(animations.n)(\":enter\",[Object(animations.i)(\".list\",Object(animations.m)({opacity:0}),{optional:!0}),Object(animations.i)(\".list\",Object(animations.k)(\"300ms\",[Object(animations.e)(\"1s ease-in\",Object(animations.h)([Object(animations.m)({opacity:0,transform:\"translateY(-75px)\",offset:0}),Object(animations.m)({opacity:.5,transform:\"translateY(35px)\",offset:.3}),Object(animations.m)({opacity:1,transform:\"translateY(0)\",offset:1})]))]),{optional:!0})]),Object(animations.n)(\":leave\",[Object(animations.i)(\".list\",Object(animations.k)(\"300ms\",[Object(animations.e)(\"1s ease-in\",Object(animations.h)([Object(animations.m)({opacity:1,transform:\"translateY(0)\",offset:0}),Object(animations.m)({opacity:.5,transform:\"translateY(35px)\",offset:.3}),Object(animations.m)({opacity:0,transform:\"translateY(-75px)\",offset:1})]))]),{optional:!0})])]);var snack_bar=__webpack_require__(\"dNgK\"),flex=__webpack_require__(\"XiUz\"),card=__webpack_require__(\"Wp6s\"),form_field=__webpack_require__(\"kmnG\"),input=__webpack_require__(\"qFsG\"),fesm2015_select=__webpack_require__(\"d3UM\"),tooltip=__webpack_require__(\"Qu3c\"),fesm2015_checkbox=__webpack_require__(\"bSwM\"),fesm2015_radio=__webpack_require__(\"QibW\"),fesm2015_core=__webpack_require__(\"FKr1\"),fesm2015_button=__webpack_require__(\"bTqV\"),icon=__webpack_require__(\"NFeN\");function DynamicMenuComponent_mat_error_7_Template(rf,ctx){1&rf&&(core.gc(0,\"mat-error\"),core.Wc(1,\"Menu title is required\"),core.fc())}function DynamicMenuComponent_mat_error_8_Template(rf,ctx){1&rf&&(core.gc(0,\"mat-error\"),core.Wc(1,\"Menu title isn't long enough, minimum of 3 characters\"),core.fc())}function DynamicMenuComponent_mat_option_11_Template(rf,ctx){if(1&rf&&(core.gc(0,\"mat-option\",19),core.gc(1,\"mat-icon\"),core.Wc(2),core.fc(),core.fc()),2&rf){const icon_r1510=ctx.$implicit;core.zc(\"value\",icon_r1510),core.Mb(2),core.Xc(icon_r1510)}}function DynamicMenuComponent_mat_error_14_Template(rf,ctx){1&rf&&(core.gc(0,\"mat-error\"),core.Wc(1,\"Routerlink or href is required\"),core.fc())}function DynamicMenuComponent_mat_error_19_Template(rf,ctx){1&rf&&(core.gc(0,\"mat-error\"),core.Wc(1,\"Href or routerlink is required\"),core.fc())}function DynamicMenuComponent_mat_option_29_Template(rf,ctx){if(1&rf&&(core.gc(0,\"mat-option\",19),core.Wc(1),core.fc()),2&rf){const menuItem_r1511=ctx.$implicit;core.zc(\"value\",menuItem_r1511.id),core.Mb(1),core.Yc(\" \",menuItem_r1511.title,\" \")}}let dynamic_menu_component_DynamicMenuComponent=(()=>{class DynamicMenuComponent{constructor(appSettings,formBuilder,snackBar,menuService,dynamicMenuService){this.appSettings=appSettings,this.formBuilder=formBuilder,this.snackBar=snackBar,this.menuService=menuService,this.dynamicMenuService=dynamicMenuService,this.icons=[\"home\",\"person\",\"card_travel\",\"delete\",\"event\",\"favorite\",\"help\"],this.settings=this.appSettings.settings,this.menuItems=this.menuService.getVerticalMenuItems()}ngOnInit(){this.form=this.formBuilder.group({title:[\"\",fesm2015_forms.v.compose([fesm2015_forms.v.required,fesm2015_forms.v.minLength(3)])],icon:null,routerLink:[\"\",fesm2015_forms.v.required],href:[\"\",fesm2015_forms.v.required],target:null,hasSubMenu:!1,parentId:0})}ngAfterViewInit(){this.form.valueChanges.pipe(Object(debounceTime.a)(500)).subscribe(menu=>{menu.routerLink&&\"\"!=menu.routerLink?(this.form.controls.href.setValue(null),this.form.controls.href.disable(),this.form.controls.href.clearValidators(),this.form.controls.target.setValue(null),this.form.controls.target.disable()):(this.form.controls.href.enable(),this.form.controls.href.setValidators([fesm2015_forms.v.required]),this.form.controls.target.enable()),this.form.controls.href.updateValueAndValidity(),menu.href&&\"\"!=menu.href?(this.form.controls.routerLink.setValue(null),this.form.controls.routerLink.disable(),this.form.controls.routerLink.clearValidators(),this.form.controls.hasSubMenu.setValue(!1),this.form.controls.hasSubMenu.disable()):(this.form.controls.routerLink.enable(),this.form.controls.routerLink.setValidators([fesm2015_forms.v.required]),this.form.controls.hasSubMenu.enable()),this.form.controls.routerLink.updateValueAndValidity()})}onSubmit(menu){this.form.valid&&(this.dynamicMenuService.addNewMenuItem(vertical_menu_component.a,this.menuItems,menu),this.snackBar.open(\"New menu item added successfully!\",null,{duration:2e3}),this.form.reset({hasSubMenu:!1,parentId:0}))}}return DynamicMenuComponent.ɵfac=function(t){return new(t||DynamicMenuComponent)(core.ac(app_settings.a),core.ac(fesm2015_forms.c),core.ac(snack_bar.a),core.ac(menu_service.a),core.ac(dynamic_menu_service_DynamicMenuService))},DynamicMenuComponent.ɵcmp=core.Ub({type:DynamicMenuComponent,selectors:[[\"app-dynamic-menu\"]],hostVars:1,hostBindings:function(rf,ctx){2&rf&&core.ad(\"@listTransition\",void 0)},features:[core.Lb([dynamic_menu_service_DynamicMenuService,menu_service.a])],decls:33,vars:8,consts:[[\"fxLayout\",\"row wrap\",\"fxLayoutAlign\",\"center\"],[\"fxFlex\",\"100\",\"fxFlex.gt-sm\",\"50\",\"fxFlex.sm\",\"60\",1,\"flex-p\"],[1,\"list\"],[3,\"formGroup\",\"ngSubmit\"],[1,\"w-100\"],[\"matInput\",\"\",\"placeholder\",\"Title\",\"formControlName\",\"title\"],[4,\"ngIf\"],[\"placeholder\",\"Icon\",\"formControlName\",\"icon\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"matInput\",\"\",\"placeholder\",\"RouterLink\",\"formControlName\",\"routerLink\",\"matTooltip\",\"e.g. /dashboard\",\"matTooltipPosition\",\"after\"],[\"formControlName\",\"hasSubMenu\"],[\"matInput\",\"\",\"placeholder\",\"Href\",\"formControlName\",\"href\",\"matTooltip\",\"e.g. http://themeseason.com\",\"matTooltipPosition\",\"after\"],[\"formControlName\",\"target\"],[\"value\",\"_blank\"],[\"value\",\"_self\",1,\"mx-1\"],[\"placeholder\",\"Parent menu\",\"formControlName\",\"parentId\"],[\"value\",\"0\"],[\"fxLayout\",\"row\",\"fxLayoutAlign\",\"center\"],[\"mat-raised-button\",\"\",\"color\",\"primary\",\"type\",\"submit\",3,\"disabled\"],[3,\"value\"]],template:function(rf,ctx){1&rf&&(core.gc(0,\"div\",0),core.gc(1,\"div\",1),core.gc(2,\"mat-card\",2),core.gc(3,\"mat-card-content\"),core.gc(4,\"form\",3),core.oc(\"ngSubmit\",(function($event){return ctx.onSubmit(ctx.form.value)})),core.gc(5,\"mat-form-field\",4),core.bc(6,\"input\",5),core.Uc(7,DynamicMenuComponent_mat_error_7_Template,2,0,\"mat-error\",6),core.Uc(8,DynamicMenuComponent_mat_error_8_Template,2,0,\"mat-error\",6),core.fc(),core.gc(9,\"mat-form-field\",4),core.gc(10,\"mat-select\",7),core.Uc(11,DynamicMenuComponent_mat_option_11_Template,3,2,\"mat-option\",8),core.fc(),core.fc(),core.gc(12,\"mat-form-field\",4),core.bc(13,\"input\",9),core.Uc(14,DynamicMenuComponent_mat_error_14_Template,2,0,\"mat-error\",6),core.fc(),core.gc(15,\"mat-checkbox\",10),core.Wc(16,\"Has sub menu\"),core.fc(),core.gc(17,\"mat-form-field\",4),core.bc(18,\"input\",11),core.Uc(19,DynamicMenuComponent_mat_error_19_Template,2,0,\"mat-error\",6),core.fc(),core.gc(20,\"mat-radio-group\",12),core.gc(21,\"mat-radio-button\",13),core.Wc(22,\"_blank\"),core.fc(),core.gc(23,\"mat-radio-button\",14),core.Wc(24,\"_self\"),core.fc(),core.fc(),core.gc(25,\"mat-form-field\",4),core.gc(26,\"mat-select\",15),core.gc(27,\"mat-option\",16),core.Wc(28,\"-- Select Parent Menu --\"),core.fc(),core.Uc(29,DynamicMenuComponent_mat_option_29_Template,2,2,\"mat-option\",8),core.fc(),core.fc(),core.gc(30,\"div\",17),core.gc(31,\"button\",18),core.Wc(32,\"Add New Menu Item\"),core.fc(),core.fc(),core.fc(),core.fc(),core.fc(),core.fc(),core.fc()),2&rf&&(core.Mb(4),core.zc(\"formGroup\",ctx.form),core.Mb(3),core.zc(\"ngIf\",null==ctx.form.controls.title.errors?null:ctx.form.controls.title.errors.required),core.Mb(1),core.zc(\"ngIf\",ctx.form.controls.title.hasError(\"minlength\")),core.Mb(3),core.zc(\"ngForOf\",ctx.icons),core.Mb(3),core.zc(\"ngIf\",null==ctx.form.controls.routerLink.errors?null:ctx.form.controls.routerLink.errors.required),core.Mb(5),core.zc(\"ngIf\",null==ctx.form.controls.href.errors?null:ctx.form.controls.href.errors.required),core.Mb(10),core.zc(\"ngForOf\",ctx.menuItems),core.Mb(2),core.zc(\"disabled\",!ctx.form.valid))},directives:[flex.c,flex.b,flex.a,card.a,card.d,fesm2015_forms.x,fesm2015_forms.o,fesm2015_forms.g,form_field.b,input.b,fesm2015_forms.b,fesm2015_forms.n,fesm2015_forms.f,common.n,fesm2015_select.a,common.m,tooltip.a,fesm2015_checkbox.a,fesm2015_radio.b,fesm2015_radio.a,fesm2015_core.n,fesm2015_button.b,form_field.a,icon.a],encapsulation:2,data:{animation:[listTransition]}}),DynamicMenuComponent})();__webpack_require__.d(__webpack_exports__,\"routes\",(function(){return routes})),__webpack_require__.d(__webpack_exports__,\"DynamicMenuModule\",(function(){return dynamic_menu_module_DynamicMenuModule}));const routes=[{path:\"\",component:dynamic_menu_component_DynamicMenuComponent,pathMatch:\"full\"}];let dynamic_menu_module_DynamicMenuModule=(()=>{class DynamicMenuModule{}return DynamicMenuModule.ɵmod=core.Yb({type:DynamicMenuModule}),DynamicMenuModule.ɵinj=core.Xb({factory:function(t){return new(t||DynamicMenuModule)},imports:[[common.c,fesm2015_forms.i,fesm2015_forms.t,router.h.forChild(routes),shared_module.a]]}),DynamicMenuModule})()}}]);","extractedComments":[]}